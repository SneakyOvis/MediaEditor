var zt=Object.defineProperty;var At=(e,t,i)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Pe=(e,t,i)=>(At(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const a of f.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerPolicy&&(f.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?f.credentials="include":n.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(n){if(n.ep)return;n.ep=!0;const f=i(n);fetch(n.href,f)}})();function j(){}function Tt(e,t){for(const i in t)e[i]=t[i];return e}function at(e){return e()}function Ge(){return Object.create(null)}function x(e){e.forEach(at)}function ct(e){return typeof e=="function"}function B(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Et(e){return Object.keys(e).length===0}function Lt(e,...t){if(e==null){for(const l of t)l(void 0);return j}const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function U(e,t,i){e.$$.on_destroy.push(Lt(t,i))}function Mt(e,t,i,l){if(e){const n=_t(e,t,i,l);return e[0](n)}}function _t(e,t,i,l){return e[1]&&l?Tt(i.ctx.slice(),e[1](l(t))):i.ctx}function It(e,t,i,l){if(e[2]&&l){const n=e[2](l(i));if(t.dirty===void 0)return n;if(typeof n=="object"){const f=[],a=Math.max(t.dirty.length,n.length);for(let r=0;r<a;r+=1)f[r]=t.dirty[r]|n[r];return f}return t.dirty|n}return t.dirty}function Dt(e,t,i,l,n,f){if(n){const a=_t(t,i,l,f);e.p(a,n)}}function jt(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let l=0;l<i;l++)t[l]=-1;return t}return-1}function ge(e,t,i){return e.set(i),t}function $(e,t){e.appendChild(t)}function b(e,t,i){e.insertBefore(t,i||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function pt(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function v(e){return document.createElement(e)}function Z(e){return document.createTextNode(e)}function N(){return Z(" ")}function de(){return Z("")}function I(e,t,i,l){return e.addEventListener(t,i,l),()=>e.removeEventListener(t,i,l)}function dt(e){return function(t){return t.preventDefault(),e.call(this,t)}}function L(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Ft(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function ae(e,t){e.value=t??""}function _e(e,t,i,l){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,l?"important":"")}function Qe(e,t,i){e.classList.toggle(t,!!i)}function be(e,t){return new e(t)}let Oe;function pe(e){Oe=e}const re=[],z=[];let fe=[];const Ne=[],Bt=Promise.resolve();let Se=!1;function Ht(){Se||(Se=!0,Bt.then(mt))}function Ce(e){fe.push(e)}function T(e){Ne.push(e)}const qe=new Set;let se=0;function mt(){if(se!==0)return;const e=Oe;do{try{for(;se<re.length;){const t=re[se];se++,pe(t),Jt(t.$$)}}catch(t){throw re.length=0,se=0,t}for(pe(null),re.length=0,se=0;z.length;)z.pop()();for(let t=0;t<fe.length;t+=1){const i=fe[t];qe.has(i)||(qe.add(i),i())}fe.length=0}while(re.length);for(;Ne.length;)Ne.pop()();Se=!1,qe.clear(),pe(e)}function Jt(e){if(e.fragment!==null){e.update(),x(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ce)}}function Rt(e){const t=[],i=[];fe.forEach(l=>e.indexOf(l)===-1?t.push(l):i.push(l)),i.forEach(l=>l()),fe=t}const ve=new Set;let K;function Q(){K={r:0,c:[],p:K}}function ee(){K.r||x(K.c),K=K.p}function h(e,t){e&&e.i&&(ve.delete(e),e.i(t))}function y(e,t,i,l){if(e&&e.o){if(ve.has(e))return;ve.add(e),K.c.push(()=>{ve.delete(e),l&&(i&&e.d(1),l())}),e.o(t)}else l&&l()}function he(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function E(e,t,i){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=i,i(e.$$.ctx[l]))}function O(e){e&&e.c()}function S(e,t,i){const{fragment:l,after_update:n}=e.$$;l&&l.m(t,i),Ce(()=>{const f=e.$$.on_mount.map(at).filter(ct);e.$$.on_destroy?e.$$.on_destroy.push(...f):x(f),e.$$.on_mount=[]}),n.forEach(Ce)}function C(e,t){const i=e.$$;i.fragment!==null&&(Rt(i.after_update),x(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Wt(e,t){e.$$.dirty[0]===-1&&(re.push(e),Ht(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,i,l,n,f,a,r=[-1]){const s=Oe;pe(e);const o=e.$$={fragment:null,ctx:[],props:f,update:j,not_equal:n,bound:Ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Ge(),dirty:r,skip_bound:!1,root:t.target||s.$$.root};a&&a(o.root);let u=!1;if(o.ctx=i?i(e,t.props||{},(c,m,...p)=>{const P=p.length?p[0]:m;return o.ctx&&n(o.ctx[c],o.ctx[c]=P)&&(!o.skip_bound&&o.bound[c]&&o.bound[c](P),u&&Wt(e,c)),m}):[],o.update(),u=!0,x(o.before_update),o.fragment=l?l(o.ctx):!1,t.target){if(t.hydrate){const c=Ft(t.target);o.fragment&&o.fragment.l(c),c.forEach(g)}else o.fragment&&o.fragment.c();t.intro&&h(e.$$.fragment),S(e,t.target,t.anchor),mt()}pe(s)}class R{constructor(){Pe(this,"$$");Pe(this,"$$set")}$destroy(){C(this,1),this.$destroy=j}$on(t,i){if(!ct(i))return j;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(i),()=>{const n=l.indexOf(i);n!==-1&&l.splice(n,1)}}$set(t){this.$$set&&!Et(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const xt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xt);const ue=[];function gt(e,t=j){let i;const l=new Set;function n(r){if(B(e,r)&&(e=r,i)){const s=!ue.length;for(const o of l)o[1](),ue.push(o,e);if(s){for(let o=0;o<ue.length;o+=2)ue[o][0](ue[o+1]);ue.length=0}}}function f(r){n(r(e))}function a(r,s=j){const o=[r,s];return l.add(o),l.size===1&&(i=t(n,f)||j),r(e),()=>{l.delete(o),l.size===0&&i&&(i(),i=null)}}return{set:n,update:f,subscribe:a}}const Vt={name:"Default",modules:{Meta:{active:!0,settings:{clear:!0,location:"",camera:"",time:""}},Transform:{active:!1,settings:{mirror:!1,colors:"",blur:"",noise:"",zoom:"",pan:"",rotate:"",size:"",fps:"",split:""}},Note:{active:!1,settings:{}},Format:{active:!0,settings:{video:"mp4",photo:"jpeg"}}}};let M=[];const G=gt(null),F=gt(null);let Y,et,ze=!1;G.subscribe(e=>{if(e){for(let t=0;t<M.length;t++)M[t]===e&&(Y=t);ze&&($e(),vt())}});F.subscribe(e=>{if(ze){if(!e){$e(),console.log("edit saving"),et===Y&&vt();return}for(let t=0;t<M.length;t++)M[t]===e&&(et=t)}});function Xt(){const e=structuredClone(M[0]);e.name="",M.push(e),F.set(e),$e()}function Yt(e){M=M.filter(t=>t!==e),G.set(M[0]),F.set(null),$e()}function Zt(){M=JSON.parse(localStorage.getItem("profiles")),M||(M=[Vt],G.set(M[0])),Y=parseInt(localStorage.getItem("active")),Y||(Y=0),G.set(M[Y]),ze=!0}function $e(){localStorage.setItem("active",Y.toString()),localStorage.setItem("profiles",JSON.stringify(M))}function vt(){const e={initData:Telegram.WebApp.initData,profile:M[Y]};Telegram.WebApp.sendData(JSON.stringify(e))}Telegram.WebApp.expand();Zt();const bt={addProfile:Xt,delProfile:Yt};function Kt(e){let t,i,l;return{c(){t=v("button"),t.textContent="Off",L(t,"class","text-red-600")},m(n,f){b(n,t,f),i||(l=I(t,"click",dt(e[3])),i=!0)},p:j,d(n){n&&g(t),i=!1,l()}}}function Ut(e){let t,i,l;return{c(){t=v("button"),t.textContent="On",L(t,"class","text-green-600")},m(n,f){b(n,t,f),i||(l=I(t,"click",dt(e[2])),i=!0)},p:j,d(n){n&&g(t),i=!1,l()}}}function Gt(e){let t,i,l,n,f;function a(o,u){return o[0]?Ut:Kt}let r=a(e),s=r(e);return{c(){t=v("tr"),i=v("td"),l=Z(e[1]),n=N(),f=v("td"),s.c(),L(f,"class","text-right"),L(t,"class","module")},m(o,u){b(o,t,u),$(t,i),$(i,l),$(t,n),$(t,f),s.m(f,null)},p(o,[u]){u&2&&ce(l,o[1]),r===(r=a(o))&&s?s.p(o,u):(s.d(1),s=r(o),s&&(s.c(),s.m(f,null)))},i:j,o:j,d(o){o&&g(t),s.d()}}}function Qt(e,t,i){let{name:l}=t,{active:n}=t;const f=()=>i(0,n=!1),a=()=>i(0,n=!0);return e.$$set=r=>{"name"in r&&i(1,l=r.name),"active"in r&&i(0,n=r.active)},[n,l,f,a]}class ke extends R{constructor(t){super(),J(this,t,Qt,Gt,B,{name:1,active:0})}}function tt(e){let t;return{c(){t=v("div"),_e(t,"top",e[3]+"px"),_e(t,"left",e[2]+"px"),L(t,"class","tooltip svelte-129dd45")},m(i,l){b(i,t,l),t.innerHTML=e[0]},p(i,l){l&1&&(t.innerHTML=i[0]),l&8&&_e(t,"top",i[3]+"px"),l&4&&_e(t,"left",i[2]+"px")},d(i){i&&g(t)}}}function en(e){let t,i,l,n,f,a;const r=e[8].default,s=Mt(r,e,e[7],null);let o=e[1]&&tt(e);return{c(){t=v("div"),s&&s.c(),i=N(),o&&o.c(),l=de(),_e(t,"position","relative")},m(u,c){b(u,t,c),s&&s.m(t,null),b(u,i,c),o&&o.m(u,c),b(u,l,c),n=!0,f||(a=[I(t,"mouseover",e[4]),I(t,"mouseleave",e[6]),I(t,"mousemove",e[5])],f=!0)},p(u,[c]){s&&s.p&&(!n||c&128)&&Dt(s,r,u,u[7],n?It(r,u[7],c,null):jt(u[7]),null),u[1]?o?o.p(u,c):(o=tt(u),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(u){n||(h(s,u),n=!0)},o(u){y(s,u),n=!1},d(u){u&&(g(t),g(i),g(l)),s&&s.d(u),o&&o.d(u),f=!1,x(a)}}}function tn(e,t,i){let{$$slots:l={},$$scope:n}=t,{title:f=""}=t,a=!1,r,s;function o(m){i(1,a=!0),i(2,r=m.pageX+5),i(3,s=m.pageY+5)}function u(m){i(2,r=m.pageX+5),i(3,s=m.pageY+5)}function c(){i(1,a=!1)}return e.$$set=m=>{"title"in m&&i(0,f=m.title),"$$scope"in m&&i(7,n=m.$$scope)},[f,a,r,s,o,u,c,n,l]}class Ae extends R{constructor(t){super(),J(this,t,tn,en,B,{title:0})}}function nn(e){let t,i;return{c(){t=v("span"),i=Z(e[1])},m(l,n){b(l,t,n),$(t,i)},p(l,n){n&2&&ce(i,l[1])},d(l){l&&g(t)}}}function ln(e){let t,i,l,n,f,a,r,s,o;return n=new Ae({props:{title:e[2],$$slots:{default:[nn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),l=v("div"),O(n.$$.fragment),f=N(),a=v("input"),L(a,"type","text"),L(l,"class","flex justify-between"),L(i,"colspan","2"),L(t,"class","action")},m(u,c){b(u,t,c),$(t,i),$(i,l),S(n,l,null),$(l,f),$(l,a),ae(a,e[0]),r=!0,s||(o=I(a,"input",e[3]),s=!0)},p(u,[c]){const m={};c&4&&(m.title=u[2]),c&18&&(m.$$scope={dirty:c,ctx:u}),n.$set(m),c&1&&a.value!==u[0]&&ae(a,u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),C(n),s=!1,o()}}}function on(e,t,i){let{name:l}=t,{value:n}=t,{tip:f}=t;function a(){n=this.value,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,l=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,l,f,a]}class D extends R{constructor(t){super(),J(this,t,on,ln,B,{name:1,value:0,tip:2})}}function nt(e){let t,i,l,n,f,a;function r(c){e[2](c)}let s={name:"Photo",tip:"Output format for photos"};e[0].settings.photo!==void 0&&(s.value=e[0].settings.photo),t=new D({props:s}),z.push(()=>E(t,"value",r));function o(c){e[3](c)}let u={name:"Video",tip:"Output format for videos"};return e[0].settings.video!==void 0&&(u.value=e[0].settings.video),n=new D({props:u}),z.push(()=>E(n,"value",o)),{c(){O(t.$$.fragment),l=N(),O(n.$$.fragment)},m(c,m){S(t,c,m),b(c,l,m),S(n,c,m),a=!0},p(c,m){const p={};!i&&m&1&&(i=!0,p.value=c[0].settings.photo,T(()=>i=!1)),t.$set(p);const P={};!f&&m&1&&(f=!0,P.value=c[0].settings.video,T(()=>f=!1)),n.$set(P)},i(c){a||(h(t.$$.fragment,c),h(n.$$.fragment,c),a=!0)},o(c){y(t.$$.fragment,c),y(n.$$.fragment,c),a=!1},d(c){c&&g(l),C(t,c),C(n,c)}}}function sn(e){let t,i,l,n,f;function a(o){e[1](o)}let r={name:"Format"};e[0].active!==void 0&&(r.active=e[0].active),t=new ke({props:r}),z.push(()=>E(t,"active",a));let s=e[0].active&&nt(e);return{c(){O(t.$$.fragment),l=N(),s&&s.c(),n=de()},m(o,u){S(t,o,u),b(o,l,u),s&&s.m(o,u),b(o,n,u),f=!0},p(o,[u]){const c={};!i&&u&1&&(i=!0,c.active=o[0].active,T(()=>i=!1)),t.$set(c),o[0].active?s?(s.p(o,u),u&1&&h(s,1)):(s=nt(o),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(Q(),y(s,1,1,()=>{s=null}),ee())},i(o){f||(h(t.$$.fragment,o),h(s),f=!0)},o(o){y(t.$$.fragment,o),y(s),f=!1},d(o){o&&(g(l),g(n)),C(t,o),s&&s.d(o)}}}function un(e,t,i){let l;U(e,F,s=>i(4,l=s));let n=l.modules.Format;function f(s){e.$$.not_equal(n.active,s)&&(n.active=s,i(0,n))}function a(s){e.$$.not_equal(n.settings.photo,s)&&(n.settings.photo=s,i(0,n))}function r(s){e.$$.not_equal(n.settings.video,s)&&(n.settings.video=s,i(0,n))}return[n,f,a,r]}class rn extends R{constructor(t){super(),J(this,t,un,sn,B,{})}}function fn(e){let t,i;return{c(){t=v("span"),i=Z(e[1])},m(l,n){b(l,t,n),$(t,i)},p(l,n){n&2&&ce(i,l[1])},d(l){l&&g(t)}}}function an(e){let t,i,l,n,f,a,r,s,o;return n=new Ae({props:{title:e[2],$$slots:{default:[fn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),l=v("div"),O(n.$$.fragment),f=N(),a=v("input"),L(a,"type","checkbox"),L(l,"class","flex justify-between"),L(i,"colspan","2"),L(t,"class","action")},m(u,c){b(u,t,c),$(t,i),$(i,l),S(n,l,null),$(l,f),$(l,a),a.checked=e[0],r=!0,s||(o=I(a,"change",e[3]),s=!0)},p(u,[c]){const m={};c&4&&(m.title=u[2]),c&18&&(m.$$scope={dirty:c,ctx:u}),n.$set(m),c&1&&(a.checked=u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),C(n),s=!1,o()}}}function cn(e,t,i){let{name:l}=t,{value:n}=t,{tip:f}=t;function a(){n=this.checked,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,l=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,l,f,a]}class ht extends R{constructor(t){super(),J(this,t,cn,an,B,{name:1,value:0,tip:2})}}function _n(e){let t,i;return{c(){t=v("span"),i=Z(e[1])},m(l,n){b(l,t,n),$(t,i)},p(l,n){n&2&&ce(i,l[1])},d(l){l&&g(t)}}}function pn(e){let t,i,l,n,f,a,r,s,o;return n=new Ae({props:{title:e[2],$$slots:{default:[_n]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),l=v("div"),O(n.$$.fragment),f=N(),a=v("input"),L(a,"type","datetime-local"),L(l,"class","flex justify-between"),L(i,"colspan","2"),L(t,"class","action")},m(u,c){b(u,t,c),$(t,i),$(i,l),S(n,l,null),$(l,f),$(l,a),ae(a,e[0]),r=!0,s||(o=I(a,"input",e[3]),s=!0)},p(u,[c]){const m={};c&4&&(m.title=u[2]),c&18&&(m.$$scope={dirty:c,ctx:u}),n.$set(m),c&1&&ae(a,u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),C(n),s=!1,o()}}}function dn(e,t,i){let{name:l}=t,{value:n}=t,{tip:f}=t;function a(){n=this.value,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,l=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,l,f,a]}class mn extends R{constructor(t){super(),J(this,t,dn,pn,B,{name:1,value:0,tip:2})}}function it(e){let t,i,l,n,f,a,r,s,o,u,c,m;function p(k){e[2](k)}let P={name:"Clear",tip:"Clear all metadata"};e[0].settings.clear!==void 0&&(P.value=e[0].settings.clear),t=new ht({props:P}),z.push(()=>E(t,"value",p));function w(k){e[3](k)}let d={name:"Location",tip:"Set location: <b>latitude,longitude</b>"};e[0].settings.location!==void 0&&(d.value=e[0].settings.location),n=new D({props:d}),z.push(()=>E(n,"value",w));function V(k){e[4](k)}let te={name:"Camera",tip:"Set camera model"};e[0].settings.camera!==void 0&&(te.value=e[0].settings.camera),r=new D({props:te}),z.push(()=>E(r,"value",V));function W(k){e[5](k)}let ne={name:"Time",tip:"Set create/modify time"};return e[0].settings.time!==void 0&&(ne.value=e[0].settings.time),u=new mn({props:ne}),z.push(()=>E(u,"value",W)),{c(){O(t.$$.fragment),l=N(),O(n.$$.fragment),a=N(),O(r.$$.fragment),o=N(),O(u.$$.fragment)},m(k,A){S(t,k,A),b(k,l,A),S(n,k,A),b(k,a,A),S(r,k,A),b(k,o,A),S(u,k,A),m=!0},p(k,A){const ie={};!i&&A&1&&(i=!0,ie.value=k[0].settings.clear,T(()=>i=!1)),t.$set(ie);const le={};!f&&A&1&&(f=!0,le.value=k[0].settings.location,T(()=>f=!1)),n.$set(le);const H={};!s&&A&1&&(s=!0,H.value=k[0].settings.camera,T(()=>s=!1)),r.$set(H);const oe={};!c&&A&1&&(c=!0,oe.value=k[0].settings.time,T(()=>c=!1)),u.$set(oe)},i(k){m||(h(t.$$.fragment,k),h(n.$$.fragment,k),h(r.$$.fragment,k),h(u.$$.fragment,k),m=!0)},o(k){y(t.$$.fragment,k),y(n.$$.fragment,k),y(r.$$.fragment,k),y(u.$$.fragment,k),m=!1},d(k){k&&(g(l),g(a),g(o)),C(t,k),C(n,k),C(r,k),C(u,k)}}}function gn(e){let t,i,l,n,f;function a(o){e[1](o)}let r={name:"Meta"};e[0].active!==void 0&&(r.active=e[0].active),t=new ke({props:r}),z.push(()=>E(t,"active",a));let s=e[0].active&&it(e);return{c(){O(t.$$.fragment),l=N(),s&&s.c(),n=de()},m(o,u){S(t,o,u),b(o,l,u),s&&s.m(o,u),b(o,n,u),f=!0},p(o,[u]){const c={};!i&&u&1&&(i=!0,c.active=o[0].active,T(()=>i=!1)),t.$set(c),o[0].active?s?(s.p(o,u),u&1&&h(s,1)):(s=it(o),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(Q(),y(s,1,1,()=>{s=null}),ee())},i(o){f||(h(t.$$.fragment,o),h(s),f=!0)},o(o){y(t.$$.fragment,o),y(s),f=!1},d(o){o&&(g(l),g(n)),C(t,o),s&&s.d(o)}}}function vn(e,t,i){let l;U(e,F,u=>i(6,l=u));let n=l.modules.Meta;function f(u){e.$$.not_equal(n.active,u)&&(n.active=u,i(0,n))}function a(u){e.$$.not_equal(n.settings.clear,u)&&(n.settings.clear=u,i(0,n))}function r(u){e.$$.not_equal(n.settings.location,u)&&(n.settings.location=u,i(0,n))}function s(u){e.$$.not_equal(n.settings.camera,u)&&(n.settings.camera=u,i(0,n))}function o(u){e.$$.not_equal(n.settings.time,u)&&(n.settings.time=u,i(0,n))}return[n,f,a,r,s,o]}class bn extends R{constructor(t){super(),J(this,t,vn,gn,B,{})}}function hn(e){let t,i,l;function n(a){e[1](a)}let f={name:"Note"};return e[0].active!==void 0&&(f.active=e[0].active),t=new ke({props:f}),z.push(()=>E(t,"active",n)),{c(){O(t.$$.fragment)},m(a,r){S(t,a,r),l=!0},p(a,[r]){const s={};!i&&r&1&&(i=!0,s.active=a[0].active,T(()=>i=!1)),t.$set(s)},i(a){l||(h(t.$$.fragment,a),l=!0)},o(a){y(t.$$.fragment,a),l=!1},d(a){C(t,a)}}}function $n(e,t,i){let l;U(e,F,a=>i(2,l=a));let n=l.modules.Note;function f(a){e.$$.not_equal(n.active,a)&&(n.active=a,i(0,n))}return[n,f]}class kn extends R{constructor(t){super(),J(this,t,$n,hn,B,{})}}function lt(e){let t,i,l,n,f,a,r,s,o,u,c,m,p,P,w,d,V,te,W,ne,k,A,ie,le,H,oe,we,X,ye,me;function $t(_){e[2](_)}let Te={name:"Mirror",tip:"Mirror horizontally"};e[0].settings.mirror!==void 0&&(Te.value=e[0].settings.mirror),t=new ht({props:Te}),z.push(()=>E(t,"value",$t));function kt(_){e[3](_)}let Ee={name:"Colors",tip:"Color shift [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.colors!==void 0&&(Ee.value=e[0].settings.colors),n=new D({props:Ee}),z.push(()=>E(n,"value",kt));function wt(_){e[4](_)}let Le={name:"Blur",tip:"Blur [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.blur!==void 0&&(Le.value=e[0].settings.blur),r=new D({props:Le}),z.push(()=>E(r,"value",wt));function yt(_){e[5](_)}let Me={name:"Noise",tip:"Noise [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.noise!==void 0&&(Me.value=e[0].settings.noise),u=new D({props:Me}),z.push(()=>E(u,"value",yt));function Pt(_){e[6](_)}let Ie={name:"Zoom",tip:"Zoom [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.zoom!==void 0&&(Ie.value=e[0].settings.zoom),p=new D({props:Ie}),z.push(()=>E(p,"value",Pt));function qt(_){e[7](_)}let De={name:"Pan",tip:"Pan [0-width,0-height]: <b>x,y</b>"};e[0].settings.pan!==void 0&&(De.value=e[0].settings.pan),d=new D({props:De}),z.push(()=>E(d,"value",qt));function Nt(_){e[8](_)}let je={name:"Rotate",tip:"Rotate [degree]: <b>value</b> or <b>min:max</b>"};e[0].settings.rotate!==void 0&&(je.value=e[0].settings.rotate),W=new D({props:je}),z.push(()=>E(W,"value",Nt));function St(_){e[9](_)}let Fe={name:"Size",tip:"Size [width,height]: <b>w,h</b> or <b>min:max,min:max</b>"};e[0].settings.size!==void 0&&(Fe.value=e[0].settings.size),A=new D({props:Fe}),z.push(()=>E(A,"value",St));function Ct(_){e[10](_)}let Be={name:"Fps",tip:"Fps [value]: <b>value</b>"};e[0].settings.fps!==void 0&&(Be.value=e[0].settings.fps),H=new D({props:Be}),z.push(()=>E(H,"value",Ct));function Ot(_){e[11](_)}let He={name:"Split",tip:"Split [length]: <b>value<b> or <b>min:max</b>"};return e[0].settings.split!==void 0&&(He.value=e[0].settings.split),X=new D({props:He}),z.push(()=>E(X,"value",Ot)),{c(){O(t.$$.fragment),l=N(),O(n.$$.fragment),a=N(),O(r.$$.fragment),o=N(),O(u.$$.fragment),m=N(),O(p.$$.fragment),w=N(),O(d.$$.fragment),te=N(),O(W.$$.fragment),k=N(),O(A.$$.fragment),le=N(),O(H.$$.fragment),we=N(),O(X.$$.fragment)},m(_,q){S(t,_,q),b(_,l,q),S(n,_,q),b(_,a,q),S(r,_,q),b(_,o,q),S(u,_,q),b(_,m,q),S(p,_,q),b(_,w,q),S(d,_,q),b(_,te,q),S(W,_,q),b(_,k,q),S(A,_,q),b(_,le,q),S(H,_,q),b(_,we,q),S(X,_,q),me=!0},p(_,q){const Je={};!i&&q&1&&(i=!0,Je.value=_[0].settings.mirror,T(()=>i=!1)),t.$set(Je);const Re={};!f&&q&1&&(f=!0,Re.value=_[0].settings.colors,T(()=>f=!1)),n.$set(Re);const We={};!s&&q&1&&(s=!0,We.value=_[0].settings.blur,T(()=>s=!1)),r.$set(We);const xe={};!c&&q&1&&(c=!0,xe.value=_[0].settings.noise,T(()=>c=!1)),u.$set(xe);const Ve={};!P&&q&1&&(P=!0,Ve.value=_[0].settings.zoom,T(()=>P=!1)),p.$set(Ve);const Xe={};!V&&q&1&&(V=!0,Xe.value=_[0].settings.pan,T(()=>V=!1)),d.$set(Xe);const Ye={};!ne&&q&1&&(ne=!0,Ye.value=_[0].settings.rotate,T(()=>ne=!1)),W.$set(Ye);const Ze={};!ie&&q&1&&(ie=!0,Ze.value=_[0].settings.size,T(()=>ie=!1)),A.$set(Ze);const Ke={};!oe&&q&1&&(oe=!0,Ke.value=_[0].settings.fps,T(()=>oe=!1)),H.$set(Ke);const Ue={};!ye&&q&1&&(ye=!0,Ue.value=_[0].settings.split,T(()=>ye=!1)),X.$set(Ue)},i(_){me||(h(t.$$.fragment,_),h(n.$$.fragment,_),h(r.$$.fragment,_),h(u.$$.fragment,_),h(p.$$.fragment,_),h(d.$$.fragment,_),h(W.$$.fragment,_),h(A.$$.fragment,_),h(H.$$.fragment,_),h(X.$$.fragment,_),me=!0)},o(_){y(t.$$.fragment,_),y(n.$$.fragment,_),y(r.$$.fragment,_),y(u.$$.fragment,_),y(p.$$.fragment,_),y(d.$$.fragment,_),y(W.$$.fragment,_),y(A.$$.fragment,_),y(H.$$.fragment,_),y(X.$$.fragment,_),me=!1},d(_){_&&(g(l),g(a),g(o),g(m),g(w),g(te),g(k),g(le),g(we)),C(t,_),C(n,_),C(r,_),C(u,_),C(p,_),C(d,_),C(W,_),C(A,_),C(H,_),C(X,_)}}}function wn(e){let t,i,l,n,f;function a(o){e[1](o)}let r={name:"Transform"};e[0].active!==void 0&&(r.active=e[0].active),t=new ke({props:r}),z.push(()=>E(t,"active",a));let s=e[0].active&&lt(e);return{c(){O(t.$$.fragment),l=N(),s&&s.c(),n=de()},m(o,u){S(t,o,u),b(o,l,u),s&&s.m(o,u),b(o,n,u),f=!0},p(o,[u]){const c={};!i&&u&1&&(i=!0,c.active=o[0].active,T(()=>i=!1)),t.$set(c),o[0].active?s?(s.p(o,u),u&1&&h(s,1)):(s=lt(o),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(Q(),y(s,1,1,()=>{s=null}),ee())},i(o){f||(h(t.$$.fragment,o),h(s),f=!0)},o(o){y(t.$$.fragment,o),y(s),f=!1},d(o){o&&(g(l),g(n)),C(t,o),s&&s.d(o)}}}function yn(e,t,i){let l;U(e,F,d=>i(12,l=d));let n=l.modules.Transform;function f(d){e.$$.not_equal(n.active,d)&&(n.active=d,i(0,n))}function a(d){e.$$.not_equal(n.settings.mirror,d)&&(n.settings.mirror=d,i(0,n))}function r(d){e.$$.not_equal(n.settings.colors,d)&&(n.settings.colors=d,i(0,n))}function s(d){e.$$.not_equal(n.settings.blur,d)&&(n.settings.blur=d,i(0,n))}function o(d){e.$$.not_equal(n.settings.noise,d)&&(n.settings.noise=d,i(0,n))}function u(d){e.$$.not_equal(n.settings.zoom,d)&&(n.settings.zoom=d,i(0,n))}function c(d){e.$$.not_equal(n.settings.pan,d)&&(n.settings.pan=d,i(0,n))}function m(d){e.$$.not_equal(n.settings.rotate,d)&&(n.settings.rotate=d,i(0,n))}function p(d){e.$$.not_equal(n.settings.size,d)&&(n.settings.size=d,i(0,n))}function P(d){e.$$.not_equal(n.settings.fps,d)&&(n.settings.fps=d,i(0,n))}function w(d){e.$$.not_equal(n.settings.split,d)&&(n.settings.split=d,i(0,n))}return[n,f,a,r,s,o,u,c,m,p,P,w]}class Pn extends R{constructor(t){super(),J(this,t,yn,wn,B,{})}}function ot(e,t,i){const l=e.slice();return l[13]=t[i],l}function st(e,t,i){const l=e.slice();return l[10]=t[i],l}function qn(e){let t,i,l=he(M),n=[];for(let f=0;f<l.length;f+=1)n[f]=ut(ot(e,l,f));return{c(){t=v("table"),i=v("tbody");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,a){b(f,t,a),$(t,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,null)},p(f,a){if(a&11){l=he(M);let r;for(r=0;r<l.length;r+=1){const s=ot(f,l,r);n[r]?n[r].p(s,a):(n[r]=ut(s),n[r].c(),n[r].m(i,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},i:j,o:j,d(f){f&&g(t),pt(n,f)}}}function Nn(e){let t,i,l,n,f,a;function r(p,P){return p[1].name==="Default"?Cn:Sn}let s=r(e),o=s(e),u=he(e[2]),c=[];for(let p=0;p<u.length;p+=1)c[p]=rt(st(e,u,p));const m=p=>y(c[p],1,1,()=>{c[p]=null});return{c(){t=v("table"),i=v("thead"),l=v("tr"),o.c(),n=N(),f=v("tbody");for(let p=0;p<c.length;p+=1)c[p].c();L(l,"class","active-edit")},m(p,P){b(p,t,P),$(t,i),$(i,l),o.m(l,null),$(t,n),$(t,f);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(f,null);a=!0},p(p,P){if(s===(s=r(p))&&o?o.p(p,P):(o.d(1),o=s(p),o&&(o.c(),o.m(l,null))),P&4){u=he(p[2]);let w;for(w=0;w<u.length;w+=1){const d=st(p,u,w);c[w]?(c[w].p(d,P),h(c[w],1)):(c[w]=rt(d),c[w].c(),h(c[w],1),c[w].m(f,null))}for(Q(),w=u.length;w<c.length;w+=1)m(w);ee()}},i(p){if(!a){for(let P=0;P<u.length;P+=1)h(c[P]);a=!0}},o(p){c=c.filter(Boolean);for(let P=0;P<c.length;P+=1)y(c[P]);a=!1},d(p){p&&g(t),o.d(),pt(c,p)}}}function ut(e){let t,i,l,n,f,a,r,s;function o(){return e[8](e[13])}function u(){return e[9](e[13])}return{c(){t=v("tr"),i=v("td"),i.textContent=`${e[13].name}`,l=N(),n=v("td"),f=v("button"),f.textContent="Edit",a=N(),Qe(t,"active",e[13]===e[0])},m(c,m){b(c,t,m),$(t,i),$(t,l),$(t,n),$(n,f),$(t,a),r||(s=[I(f,"click",o),I(n,"click",Tn),I(t,"click",u)],r=!0)},p(c,m){e=c,m&1&&Qe(t,"active",e[13]===e[0])},d(c){c&&g(t),r=!1,x(s)}}}function Sn(e){let t,i,l,n,f,a,r,s,o;return{c(){t=v("td"),i=v("input"),l=N(),n=v("td"),f=v("button"),f.textContent="Del",a=N(),r=v("button"),r.textContent="Done",L(i,"type","text"),L(f,"class","mr-2")},m(u,c){b(u,t,c),$(t,i),ae(i,e[1].name),b(u,l,c),b(u,n,c),$(n,f),$(n,a),$(n,r),s||(o=[I(i,"input",e[5]),I(f,"click",e[6]),I(r,"click",e[7]),I(n,"click",An)],s=!0)},p(u,c){c&2&&i.value!==u[1].name&&ae(i,u[1].name)},d(u){u&&(g(t),g(l),g(n)),s=!1,x(o)}}}function Cn(e){let t,i=e[1].name+"",l,n,f,a,r,s;return{c(){t=v("td"),l=Z(i),n=N(),f=v("td"),a=v("button"),a.textContent="Done"},m(o,u){b(o,t,u),$(t,l),b(o,n,u),b(o,f,u),$(f,a),r||(s=[I(a,"click",e[4]),I(f,"click",zn)],r=!0)},p(o,u){u&2&&i!==(i=o[1].name+"")&&ce(l,i)},d(o){o&&(g(t),g(n),g(f)),r=!1,x(s)}}}function rt(e){let t,i,l;var n=e[10];function f(a,r){return{}}return n&&(t=be(n,f())),{c(){t&&O(t.$$.fragment),i=de()},m(a,r){t&&S(t,a,r),b(a,i,r),l=!0},p(a,r){if(n!==(n=a[10])){if(t){Q();const s=t;y(s.$$.fragment,1,0,()=>{C(s,1)}),ee()}n?(t=be(n,f()),O(t.$$.fragment),h(t.$$.fragment,1),S(t,i.parentNode,i)):t=null}},i(a){l||(t&&h(t.$$.fragment,a),l=!0)},o(a){t&&y(t.$$.fragment,a),l=!1},d(a){a&&g(i),t&&C(t,a)}}}function On(e){let t,i,l,n;const f=[Nn,qn],a=[];function r(s,o){return s[1]?0:1}return i=r(e),l=a[i]=f[i](e),{c(){t=v("div"),l.c()},m(s,o){b(s,t,o),a[i].m(t,null),n=!0},p(s,[o]){let u=i;i=r(s),i===u?a[i].p(s,o):(Q(),y(a[u],1,1,()=>{a[u]=null}),ee(),l=a[i],l?l.p(s,o):(l=a[i]=f[i](s),l.c()),h(l,1),l.m(t,null))},i(s){n||(h(l),n=!0)},o(s){y(l),n=!1},d(s){s&&g(t),a[i].d()}}}const zn=e=>e.stopPropagation(),An=e=>e.stopPropagation(),Tn=e=>e.stopPropagation();function En(e,t,i){let l,n;U(e,G,p=>i(0,l=p)),U(e,F,p=>i(1,n=p));const f=[rn,bn,kn,Pn];function a(){}const r=()=>{ge(F,n=null,n)};function s(){n.name=this.value,F.set(n)}return[l,n,f,a,r,s,()=>bt.delProfile(n),()=>{ge(F,n=null,n)},p=>ge(F,n=p,n),p=>{ge(G,l=p,l)}]}class ft extends R{constructor(t){super(),J(this,t,En,On,B,{})}}function Ln(e){let t,i,l,n=e[0].name+"",f,a,r,s,o,u,c,m;var p=ft;function P(w,d){return{}}return p&&(o=be(p,P())),{c(){t=v("main"),i=v("nav"),l=v("span"),f=Z(n),a=N(),r=v("button"),r.textContent="Add",s=N(),o&&O(o.$$.fragment)},m(w,d){b(w,t,d),$(t,i),$(i,l),$(l,f),$(i,a),$(i,r),$(t,s),o&&S(o,t,null),u=!0,c||(m=I(r,"click",e[1]),c=!0)},p(w,[d]){if((!u||d&1)&&n!==(n=w[0].name+"")&&ce(f,n),p!==(p=ft)){if(o){Q();const V=o;y(V.$$.fragment,1,0,()=>{C(V,1)}),ee()}p?(o=be(p,P()),O(o.$$.fragment),h(o.$$.fragment,1),S(o,t,null)):o=null}},i(w){u||(o&&h(o.$$.fragment,w),u=!0)},o(w){o&&y(o.$$.fragment,w),u=!1},d(w){w&&g(t),o&&C(o),c=!1,m()}}}function Mn(e,t,i){let l;return U(e,G,f=>i(0,l=f)),[l,()=>bt.addProfile()]}class In extends R{constructor(t){super(),J(this,t,Mn,Ln,B,{})}}new In({target:document.getElementById("app")});
