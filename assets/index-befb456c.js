var zt=Object.defineProperty;var At=(e,t,i)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Pe=(e,t,i)=>(At(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();function j(){}function Tt(e,t){for(const i in t)e[i]=t[i];return e}function at(e){return e()}function Ge(){return Object.create(null)}function V(e){e.forEach(at)}function ct(e){return typeof e=="function"}function B(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Et(e){return Object.keys(e).length===0}function Lt(e,...t){if(e==null){for(const l of t)l(void 0);return j}const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function U(e,t,i){e.$$.on_destroy.push(Lt(t,i))}function Mt(e,t,i,l){if(e){const n=_t(e,t,i,l);return e[0](n)}}function _t(e,t,i,l){return e[1]&&l?Tt(i.ctx.slice(),e[1](l(t))):i.ctx}function It(e,t,i,l){if(e[2]&&l){const n=e[2](l(i));if(t.dirty===void 0)return n;if(typeof n=="object"){const s=[],a=Math.max(t.dirty.length,n.length);for(let f=0;f<a;f+=1)s[f]=t.dirty[f]|n[f];return s}return t.dirty|n}return t.dirty}function Dt(e,t,i,l,n,s){if(n){const a=_t(t,i,l,s);e.p(a,n)}}function jt(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let l=0;l<i;l++)t[l]=-1;return t}return-1}function ge(e,t,i){return e.set(i),t}function $(e,t){e.appendChild(t)}function b(e,t,i){e.insertBefore(t,i||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function pt(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function v(e){return document.createElement(e)}function Z(e){return document.createTextNode(e)}function N(){return Z(" ")}function de(){return Z("")}function I(e,t,i,l){return e.addEventListener(t,i,l),()=>e.removeEventListener(t,i,l)}function dt(e){return function(t){return t.preventDefault(),e.call(this,t)}}function L(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Ft(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function ae(e,t){e.value=t??""}function _e(e,t,i,l){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,l?"important":"")}function Qe(e,t,i){e.classList.toggle(t,!!i)}function be(e,t){return new e(t)}let Oe;function pe(e){Oe=e}const fe=[],z=[];let se=[];const Ne=[],Bt=Promise.resolve();let Se=!1;function Ht(){Se||(Se=!0,Bt.then(mt))}function Ce(e){se.push(e)}function T(e){Ne.push(e)}const qe=new Set;let ue=0;function mt(){if(ue!==0)return;const e=Oe;do{try{for(;ue<fe.length;){const t=fe[ue];ue++,pe(t),Jt(t.$$)}}catch(t){throw fe.length=0,ue=0,t}for(pe(null),fe.length=0,ue=0;z.length;)z.pop()();for(let t=0;t<se.length;t+=1){const i=se[t];qe.has(i)||(qe.add(i),i())}se.length=0}while(fe.length);for(;Ne.length;)Ne.pop()();Se=!1,qe.clear(),pe(e)}function Jt(e){if(e.fragment!==null){e.update(),V(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ce)}}function Rt(e){const t=[],i=[];se.forEach(l=>e.indexOf(l)===-1?t.push(l):i.push(l)),i.forEach(l=>l()),se=t}const ve=new Set;let K;function Q(){K={r:0,c:[],p:K}}function ee(){K.r||V(K.c),K=K.p}function h(e,t){e&&e.i&&(ve.delete(e),e.i(t))}function y(e,t,i,l){if(e&&e.o){if(ve.has(e))return;ve.add(e),K.c.push(()=>{ve.delete(e),l&&(i&&e.d(1),l())}),e.o(t)}else l&&l()}function he(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function E(e,t,i){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=i,i(e.$$.ctx[l]))}function O(e){e&&e.c()}function S(e,t,i){const{fragment:l,after_update:n}=e.$$;l&&l.m(t,i),Ce(()=>{const s=e.$$.on_mount.map(at).filter(ct);e.$$.on_destroy?e.$$.on_destroy.push(...s):V(s),e.$$.on_mount=[]}),n.forEach(Ce)}function C(e,t){const i=e.$$;i.fragment!==null&&(Rt(i.after_update),V(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Wt(e,t){e.$$.dirty[0]===-1&&(fe.push(e),Ht(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,i,l,n,s,a,f=[-1]){const u=Oe;pe(e);const o=e.$$={fragment:null,ctx:[],props:s,update:j,not_equal:n,bound:Ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Ge(),dirty:f,skip_bound:!1,root:t.target||u.$$.root};a&&a(o.root);let r=!1;if(o.ctx=i?i(e,t.props||{},(c,p,...m)=>{const P=m.length?m[0]:p;return o.ctx&&n(o.ctx[c],o.ctx[c]=P)&&(!o.skip_bound&&o.bound[c]&&o.bound[c](P),r&&Wt(e,c)),p}):[],o.update(),r=!0,V(o.before_update),o.fragment=l?l(o.ctx):!1,t.target){if(t.hydrate){const c=Ft(t.target);o.fragment&&o.fragment.l(c),c.forEach(g)}else o.fragment&&o.fragment.c();t.intro&&h(e.$$.fragment),S(e,t.target,t.anchor),mt()}pe(u)}class R{constructor(){Pe(this,"$$");Pe(this,"$$set")}$destroy(){C(this,1),this.$destroy=j}$on(t,i){if(!ct(i))return j;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(i),()=>{const n=l.indexOf(i);n!==-1&&l.splice(n,1)}}$set(t){this.$$set&&!Et(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const xt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xt);const re=[];function gt(e,t=j){let i;const l=new Set;function n(f){if(B(e,f)&&(e=f,i)){const u=!re.length;for(const o of l)o[1](),re.push(o,e);if(u){for(let o=0;o<re.length;o+=2)re[o][0](re[o+1]);re.length=0}}}function s(f){n(f(e))}function a(f,u=j){const o=[f,u];return l.add(o),l.size===1&&(i=t(n,s)||j),f(e),()=>{l.delete(o),l.size===0&&i&&(i(),i=null)}}return{set:n,update:s,subscribe:a}}const Vt={name:"Default",modules:{Meta:{active:!0,clear:!0,location:"",camera:"",time:""},Transform:{active:!1,mirror:!1,colors:"",blur:"",noise:"",zoom:"",pan:"",rotate:"",size:"",fps:"",split:""},Note:{active:!1},Format:{active:!0,video:"mp4",photo:"jpeg"}}};let M=[];const G=gt(null),F=gt(null);let x,et,ze=!1;G.subscribe(e=>{if(e){for(let t=0;t<M.length;t++)M[t]===e&&(x=t);ze&&($e(),vt())}});F.subscribe(e=>{if(ze){if(!e){$e(),console.log("edit saving"),et===x&&vt();return}for(let t=0;t<M.length;t++)M[t]===e&&(et=t)}});function Xt(){const e=structuredClone(M[0]);e.name="",M.push(e),F.set(e),$e()}function Yt(e){M=M.filter(t=>t!==e),e===M[x]&&G.set(M[0]),F.set(null),$e()}function Zt(){M=JSON.parse(localStorage.getItem("profiles")),M||(M=[Vt],G.set(M[0])),x=parseInt(localStorage.getItem("active")),x||(x=0),G.set(M[x]),ze=!0}function $e(){localStorage.setItem("active",x.toString()),localStorage.setItem("profiles",JSON.stringify(M))}function vt(){const e={initData:Telegram.WebApp.initData,profile:M[x]};Telegram.WebApp.sendData(JSON.stringify(e))}Telegram.WebApp.expand();Zt();const bt={addProfile:Xt,delProfile:Yt};function Kt(e){let t,i,l;return{c(){t=v("button"),t.textContent="Off",L(t,"class","text-red-600")},m(n,s){b(n,t,s),i||(l=I(t,"click",dt(e[3])),i=!0)},p:j,d(n){n&&g(t),i=!1,l()}}}function Ut(e){let t,i,l;return{c(){t=v("button"),t.textContent="On",L(t,"class","text-green-600")},m(n,s){b(n,t,s),i||(l=I(t,"click",dt(e[2])),i=!0)},p:j,d(n){n&&g(t),i=!1,l()}}}function Gt(e){let t,i,l,n,s;function a(o,r){return o[0]?Ut:Kt}let f=a(e),u=f(e);return{c(){t=v("tr"),i=v("td"),l=Z(e[1]),n=N(),s=v("td"),u.c(),L(s,"class","text-right"),L(t,"class","module")},m(o,r){b(o,t,r),$(t,i),$(i,l),$(t,n),$(t,s),u.m(s,null)},p(o,[r]){r&2&&ce(l,o[1]),f===(f=a(o))&&u?u.p(o,r):(u.d(1),u=f(o),u&&(u.c(),u.m(s,null)))},i:j,o:j,d(o){o&&g(t),u.d()}}}function Qt(e,t,i){let{name:l}=t,{active:n}=t;const s=()=>i(0,n=!1),a=()=>i(0,n=!0);return e.$$set=f=>{"name"in f&&i(1,l=f.name),"active"in f&&i(0,n=f.active)},[n,l,s,a]}class ke extends R{constructor(t){super(),J(this,t,Qt,Gt,B,{name:1,active:0})}}function tt(e){let t;return{c(){t=v("div"),_e(t,"top",e[3]+"px"),_e(t,"left",e[2]+"px"),L(t,"class","tooltip svelte-129dd45")},m(i,l){b(i,t,l),t.innerHTML=e[0]},p(i,l){l&1&&(t.innerHTML=i[0]),l&8&&_e(t,"top",i[3]+"px"),l&4&&_e(t,"left",i[2]+"px")},d(i){i&&g(t)}}}function en(e){let t,i,l,n,s,a;const f=e[8].default,u=Mt(f,e,e[7],null);let o=e[1]&&tt(e);return{c(){t=v("div"),u&&u.c(),i=N(),o&&o.c(),l=de(),_e(t,"position","relative")},m(r,c){b(r,t,c),u&&u.m(t,null),b(r,i,c),o&&o.m(r,c),b(r,l,c),n=!0,s||(a=[I(t,"mouseover",e[4]),I(t,"mouseleave",e[6]),I(t,"mousemove",e[5])],s=!0)},p(r,[c]){u&&u.p&&(!n||c&128)&&Dt(u,f,r,r[7],n?It(f,r[7],c,null):jt(r[7]),null),r[1]?o?o.p(r,c):(o=tt(r),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(r){n||(h(u,r),n=!0)},o(r){y(u,r),n=!1},d(r){r&&(g(t),g(i),g(l)),u&&u.d(r),o&&o.d(r),s=!1,V(a)}}}function tn(e,t,i){let{$$slots:l={},$$scope:n}=t,{title:s=""}=t,a=!1,f,u;function o(p){i(1,a=!0),i(2,f=p.pageX+5),i(3,u=p.pageY+5)}function r(p){i(2,f=p.pageX+5),i(3,u=p.pageY+5)}function c(){i(1,a=!1)}return e.$$set=p=>{"title"in p&&i(0,s=p.title),"$$scope"in p&&i(7,n=p.$$scope)},[s,a,f,u,o,r,c,n,l]}class Ae extends R{constructor(t){super(),J(this,t,tn,en,B,{title:0})}}function nn(e){let t,i;return{c(){t=v("span"),i=Z(e[1])},m(l,n){b(l,t,n),$(t,i)},p(l,n){n&2&&ce(i,l[1])},d(l){l&&g(t)}}}function ln(e){let t,i,l,n,s,a,f,u,o;return n=new Ae({props:{title:e[2],$$slots:{default:[nn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),l=v("div"),O(n.$$.fragment),s=N(),a=v("input"),L(a,"type","text"),L(l,"class","flex justify-between"),L(i,"colspan","2"),L(t,"class","action")},m(r,c){b(r,t,c),$(t,i),$(i,l),S(n,l,null),$(l,s),$(l,a),ae(a,e[0]),f=!0,u||(o=I(a,"input",e[3]),u=!0)},p(r,[c]){const p={};c&4&&(p.title=r[2]),c&18&&(p.$$scope={dirty:c,ctx:r}),n.$set(p),c&1&&a.value!==r[0]&&ae(a,r[0])},i(r){f||(h(n.$$.fragment,r),f=!0)},o(r){y(n.$$.fragment,r),f=!1},d(r){r&&g(t),C(n),u=!1,o()}}}function on(e,t,i){let{name:l}=t,{value:n}=t,{tip:s}=t;function a(){n=this.value,i(0,n)}return e.$$set=f=>{"name"in f&&i(1,l=f.name),"value"in f&&i(0,n=f.value),"tip"in f&&i(2,s=f.tip)},[n,l,s,a]}class D extends R{constructor(t){super(),J(this,t,on,ln,B,{name:1,value:0,tip:2})}}function nt(e){let t,i,l,n,s,a;function f(c){e[2](c)}let u={name:"Photo",tip:"Output format for photos"};e[0].photo!==void 0&&(u.value=e[0].photo),t=new D({props:u}),z.push(()=>E(t,"value",f));function o(c){e[3](c)}let r={name:"Video",tip:"Output format for videos"};return e[0].video!==void 0&&(r.value=e[0].video),n=new D({props:r}),z.push(()=>E(n,"value",o)),{c(){O(t.$$.fragment),l=N(),O(n.$$.fragment)},m(c,p){S(t,c,p),b(c,l,p),S(n,c,p),a=!0},p(c,p){const m={};!i&&p&1&&(i=!0,m.value=c[0].photo,T(()=>i=!1)),t.$set(m);const P={};!s&&p&1&&(s=!0,P.value=c[0].video,T(()=>s=!1)),n.$set(P)},i(c){a||(h(t.$$.fragment,c),h(n.$$.fragment,c),a=!0)},o(c){y(t.$$.fragment,c),y(n.$$.fragment,c),a=!1},d(c){c&&g(l),C(t,c),C(n,c)}}}function un(e){let t,i,l,n,s;function a(o){e[1](o)}let f={name:"Format"};e[0].active!==void 0&&(f.active=e[0].active),t=new ke({props:f}),z.push(()=>E(t,"active",a));let u=e[0].active&&nt(e);return{c(){O(t.$$.fragment),l=N(),u&&u.c(),n=de()},m(o,r){S(t,o,r),b(o,l,r),u&&u.m(o,r),b(o,n,r),s=!0},p(o,[r]){const c={};!i&&r&1&&(i=!0,c.active=o[0].active,T(()=>i=!1)),t.$set(c),o[0].active?u?(u.p(o,r),r&1&&h(u,1)):(u=nt(o),u.c(),h(u,1),u.m(n.parentNode,n)):u&&(Q(),y(u,1,1,()=>{u=null}),ee())},i(o){s||(h(t.$$.fragment,o),h(u),s=!0)},o(o){y(t.$$.fragment,o),y(u),s=!1},d(o){o&&(g(l),g(n)),C(t,o),u&&u.d(o)}}}function rn(e,t,i){let l;U(e,F,u=>i(4,l=u));let n=l.modules.Format;function s(u){e.$$.not_equal(n.active,u)&&(n.active=u,i(0,n))}function a(u){e.$$.not_equal(n.photo,u)&&(n.photo=u,i(0,n))}function f(u){e.$$.not_equal(n.video,u)&&(n.video=u,i(0,n))}return[n,s,a,f]}class fn extends R{constructor(t){super(),J(this,t,rn,un,B,{})}}function sn(e){let t,i;return{c(){t=v("span"),i=Z(e[1])},m(l,n){b(l,t,n),$(t,i)},p(l,n){n&2&&ce(i,l[1])},d(l){l&&g(t)}}}function an(e){let t,i,l,n,s,a,f,u,o;return n=new Ae({props:{title:e[2],$$slots:{default:[sn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),l=v("div"),O(n.$$.fragment),s=N(),a=v("input"),L(a,"type","checkbox"),L(l,"class","flex justify-between"),L(i,"colspan","2"),L(t,"class","action")},m(r,c){b(r,t,c),$(t,i),$(i,l),S(n,l,null),$(l,s),$(l,a),a.checked=e[0],f=!0,u||(o=I(a,"change",e[3]),u=!0)},p(r,[c]){const p={};c&4&&(p.title=r[2]),c&18&&(p.$$scope={dirty:c,ctx:r}),n.$set(p),c&1&&(a.checked=r[0])},i(r){f||(h(n.$$.fragment,r),f=!0)},o(r){y(n.$$.fragment,r),f=!1},d(r){r&&g(t),C(n),u=!1,o()}}}function cn(e,t,i){let{name:l}=t,{value:n}=t,{tip:s}=t;function a(){n=this.checked,i(0,n)}return e.$$set=f=>{"name"in f&&i(1,l=f.name),"value"in f&&i(0,n=f.value),"tip"in f&&i(2,s=f.tip)},[n,l,s,a]}class ht extends R{constructor(t){super(),J(this,t,cn,an,B,{name:1,value:0,tip:2})}}function _n(e){let t,i;return{c(){t=v("span"),i=Z(e[1])},m(l,n){b(l,t,n),$(t,i)},p(l,n){n&2&&ce(i,l[1])},d(l){l&&g(t)}}}function pn(e){let t,i,l,n,s,a,f,u,o;return n=new Ae({props:{title:e[2],$$slots:{default:[_n]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),l=v("div"),O(n.$$.fragment),s=N(),a=v("input"),L(a,"type","datetime-local"),L(l,"class","flex justify-between"),L(i,"colspan","2"),L(t,"class","action")},m(r,c){b(r,t,c),$(t,i),$(i,l),S(n,l,null),$(l,s),$(l,a),ae(a,e[0]),f=!0,u||(o=I(a,"input",e[3]),u=!0)},p(r,[c]){const p={};c&4&&(p.title=r[2]),c&18&&(p.$$scope={dirty:c,ctx:r}),n.$set(p),c&1&&ae(a,r[0])},i(r){f||(h(n.$$.fragment,r),f=!0)},o(r){y(n.$$.fragment,r),f=!1},d(r){r&&g(t),C(n),u=!1,o()}}}function dn(e,t,i){let{name:l}=t,{value:n}=t,{tip:s}=t;function a(){n=this.value,i(0,n)}return e.$$set=f=>{"name"in f&&i(1,l=f.name),"value"in f&&i(0,n=f.value),"tip"in f&&i(2,s=f.tip)},[n,l,s,a]}class mn extends R{constructor(t){super(),J(this,t,dn,pn,B,{name:1,value:0,tip:2})}}function it(e){let t,i,l,n,s,a,f,u,o,r,c,p;function m(k){e[2](k)}let P={name:"Clear",tip:"Clear all metadata"};e[0].clear!==void 0&&(P.value=e[0].clear),t=new ht({props:P}),z.push(()=>E(t,"value",m));function w(k){e[3](k)}let d={name:"Location",tip:"Set location: <b>latitude,longitude</b>"};e[0].location!==void 0&&(d.value=e[0].location),n=new D({props:d}),z.push(()=>E(n,"value",w));function X(k){e[4](k)}let te={name:"Camera",tip:"Set camera model"};e[0].camera!==void 0&&(te.value=e[0].camera),f=new D({props:te}),z.push(()=>E(f,"value",X));function W(k){e[5](k)}let ne={name:"Time",tip:"Set create/modify time"};return e[0].time!==void 0&&(ne.value=e[0].time),r=new mn({props:ne}),z.push(()=>E(r,"value",W)),{c(){O(t.$$.fragment),l=N(),O(n.$$.fragment),a=N(),O(f.$$.fragment),o=N(),O(r.$$.fragment)},m(k,A){S(t,k,A),b(k,l,A),S(n,k,A),b(k,a,A),S(f,k,A),b(k,o,A),S(r,k,A),p=!0},p(k,A){const ie={};!i&&A&1&&(i=!0,ie.value=k[0].clear,T(()=>i=!1)),t.$set(ie);const le={};!s&&A&1&&(s=!0,le.value=k[0].location,T(()=>s=!1)),n.$set(le);const H={};!u&&A&1&&(u=!0,H.value=k[0].camera,T(()=>u=!1)),f.$set(H);const oe={};!c&&A&1&&(c=!0,oe.value=k[0].time,T(()=>c=!1)),r.$set(oe)},i(k){p||(h(t.$$.fragment,k),h(n.$$.fragment,k),h(f.$$.fragment,k),h(r.$$.fragment,k),p=!0)},o(k){y(t.$$.fragment,k),y(n.$$.fragment,k),y(f.$$.fragment,k),y(r.$$.fragment,k),p=!1},d(k){k&&(g(l),g(a),g(o)),C(t,k),C(n,k),C(f,k),C(r,k)}}}function gn(e){let t,i,l,n,s;function a(o){e[1](o)}let f={name:"Meta"};e[0].active!==void 0&&(f.active=e[0].active),t=new ke({props:f}),z.push(()=>E(t,"active",a));let u=e[0].active&&it(e);return{c(){O(t.$$.fragment),l=N(),u&&u.c(),n=de()},m(o,r){S(t,o,r),b(o,l,r),u&&u.m(o,r),b(o,n,r),s=!0},p(o,[r]){const c={};!i&&r&1&&(i=!0,c.active=o[0].active,T(()=>i=!1)),t.$set(c),o[0].active?u?(u.p(o,r),r&1&&h(u,1)):(u=it(o),u.c(),h(u,1),u.m(n.parentNode,n)):u&&(Q(),y(u,1,1,()=>{u=null}),ee())},i(o){s||(h(t.$$.fragment,o),h(u),s=!0)},o(o){y(t.$$.fragment,o),y(u),s=!1},d(o){o&&(g(l),g(n)),C(t,o),u&&u.d(o)}}}function vn(e,t,i){let l;U(e,F,r=>i(6,l=r));let n=l.modules.Meta;function s(r){e.$$.not_equal(n.active,r)&&(n.active=r,i(0,n))}function a(r){e.$$.not_equal(n.clear,r)&&(n.clear=r,i(0,n))}function f(r){e.$$.not_equal(n.location,r)&&(n.location=r,i(0,n))}function u(r){e.$$.not_equal(n.camera,r)&&(n.camera=r,i(0,n))}function o(r){e.$$.not_equal(n.time,r)&&(n.time=r,i(0,n))}return[n,s,a,f,u,o]}class bn extends R{constructor(t){super(),J(this,t,vn,gn,B,{})}}function hn(e){let t,i,l;function n(a){e[1](a)}let s={name:"Note"};return e[0].active!==void 0&&(s.active=e[0].active),t=new ke({props:s}),z.push(()=>E(t,"active",n)),{c(){O(t.$$.fragment)},m(a,f){S(t,a,f),l=!0},p(a,[f]){const u={};!i&&f&1&&(i=!0,u.active=a[0].active,T(()=>i=!1)),t.$set(u)},i(a){l||(h(t.$$.fragment,a),l=!0)},o(a){y(t.$$.fragment,a),l=!1},d(a){C(t,a)}}}function $n(e,t,i){let l;U(e,F,a=>i(2,l=a));let n=l.modules.Note;function s(a){e.$$.not_equal(n.active,a)&&(n.active=a,i(0,n))}return[n,s]}class kn extends R{constructor(t){super(),J(this,t,$n,hn,B,{})}}function lt(e){let t,i,l,n,s,a,f,u,o,r,c,p,m,P,w,d,X,te,W,ne,k,A,ie,le,H,oe,we,Y,ye,me;function $t(_){e[2](_)}let Te={name:"Mirror",tip:"Mirror horizontally"};e[0].mirror!==void 0&&(Te.value=e[0].mirror),t=new ht({props:Te}),z.push(()=>E(t,"value",$t));function kt(_){e[3](_)}let Ee={name:"Colors",tip:"Color shift [0-10]: <b>value</b> or <b>min:max</b>"};e[0].colors!==void 0&&(Ee.value=e[0].colors),n=new D({props:Ee}),z.push(()=>E(n,"value",kt));function wt(_){e[4](_)}let Le={name:"Blur",tip:"Blur [0-10]: <b>value</b> or <b>min:max</b>"};e[0].blur!==void 0&&(Le.value=e[0].blur),f=new D({props:Le}),z.push(()=>E(f,"value",wt));function yt(_){e[5](_)}let Me={name:"Noise",tip:"Noise [0-10]: <b>value</b> or <b>min:max</b>"};e[0].noise!==void 0&&(Me.value=e[0].noise),r=new D({props:Me}),z.push(()=>E(r,"value",yt));function Pt(_){e[6](_)}let Ie={name:"Zoom",tip:"Zoom [0-10]: <b>value</b> or <b>min:max</b>"};e[0].zoom!==void 0&&(Ie.value=e[0].zoom),m=new D({props:Ie}),z.push(()=>E(m,"value",Pt));function qt(_){e[7](_)}let De={name:"Pan",tip:"Pan [0-width,0-height]: <b>x,y</b>"};e[0].pan!==void 0&&(De.value=e[0].pan),d=new D({props:De}),z.push(()=>E(d,"value",qt));function Nt(_){e[8](_)}let je={name:"Rotate",tip:"Rotate [degree]: <b>value</b> or <b>min:max</b>"};e[0].rotate!==void 0&&(je.value=e[0].rotate),W=new D({props:je}),z.push(()=>E(W,"value",Nt));function St(_){e[9](_)}let Fe={name:"Size",tip:"Size [width,height]: <b>w,h</b> or <b>min:max,min:max</b>"};e[0].size!==void 0&&(Fe.value=e[0].size),A=new D({props:Fe}),z.push(()=>E(A,"value",St));function Ct(_){e[10](_)}let Be={name:"Fps",tip:"Fps [value]: <b>value</b>"};e[0].fps!==void 0&&(Be.value=e[0].fps),H=new D({props:Be}),z.push(()=>E(H,"value",Ct));function Ot(_){e[11](_)}let He={name:"Split",tip:"Split [length]: <b>value<b> or <b>min:max</b>"};return e[0].split!==void 0&&(He.value=e[0].split),Y=new D({props:He}),z.push(()=>E(Y,"value",Ot)),{c(){O(t.$$.fragment),l=N(),O(n.$$.fragment),a=N(),O(f.$$.fragment),o=N(),O(r.$$.fragment),p=N(),O(m.$$.fragment),w=N(),O(d.$$.fragment),te=N(),O(W.$$.fragment),k=N(),O(A.$$.fragment),le=N(),O(H.$$.fragment),we=N(),O(Y.$$.fragment)},m(_,q){S(t,_,q),b(_,l,q),S(n,_,q),b(_,a,q),S(f,_,q),b(_,o,q),S(r,_,q),b(_,p,q),S(m,_,q),b(_,w,q),S(d,_,q),b(_,te,q),S(W,_,q),b(_,k,q),S(A,_,q),b(_,le,q),S(H,_,q),b(_,we,q),S(Y,_,q),me=!0},p(_,q){const Je={};!i&&q&1&&(i=!0,Je.value=_[0].mirror,T(()=>i=!1)),t.$set(Je);const Re={};!s&&q&1&&(s=!0,Re.value=_[0].colors,T(()=>s=!1)),n.$set(Re);const We={};!u&&q&1&&(u=!0,We.value=_[0].blur,T(()=>u=!1)),f.$set(We);const xe={};!c&&q&1&&(c=!0,xe.value=_[0].noise,T(()=>c=!1)),r.$set(xe);const Ve={};!P&&q&1&&(P=!0,Ve.value=_[0].zoom,T(()=>P=!1)),m.$set(Ve);const Xe={};!X&&q&1&&(X=!0,Xe.value=_[0].pan,T(()=>X=!1)),d.$set(Xe);const Ye={};!ne&&q&1&&(ne=!0,Ye.value=_[0].rotate,T(()=>ne=!1)),W.$set(Ye);const Ze={};!ie&&q&1&&(ie=!0,Ze.value=_[0].size,T(()=>ie=!1)),A.$set(Ze);const Ke={};!oe&&q&1&&(oe=!0,Ke.value=_[0].fps,T(()=>oe=!1)),H.$set(Ke);const Ue={};!ye&&q&1&&(ye=!0,Ue.value=_[0].split,T(()=>ye=!1)),Y.$set(Ue)},i(_){me||(h(t.$$.fragment,_),h(n.$$.fragment,_),h(f.$$.fragment,_),h(r.$$.fragment,_),h(m.$$.fragment,_),h(d.$$.fragment,_),h(W.$$.fragment,_),h(A.$$.fragment,_),h(H.$$.fragment,_),h(Y.$$.fragment,_),me=!0)},o(_){y(t.$$.fragment,_),y(n.$$.fragment,_),y(f.$$.fragment,_),y(r.$$.fragment,_),y(m.$$.fragment,_),y(d.$$.fragment,_),y(W.$$.fragment,_),y(A.$$.fragment,_),y(H.$$.fragment,_),y(Y.$$.fragment,_),me=!1},d(_){_&&(g(l),g(a),g(o),g(p),g(w),g(te),g(k),g(le),g(we)),C(t,_),C(n,_),C(f,_),C(r,_),C(m,_),C(d,_),C(W,_),C(A,_),C(H,_),C(Y,_)}}}function wn(e){let t,i,l,n,s;function a(o){e[1](o)}let f={name:"Transform"};e[0].active!==void 0&&(f.active=e[0].active),t=new ke({props:f}),z.push(()=>E(t,"active",a));let u=e[0].active&&lt(e);return{c(){O(t.$$.fragment),l=N(),u&&u.c(),n=de()},m(o,r){S(t,o,r),b(o,l,r),u&&u.m(o,r),b(o,n,r),s=!0},p(o,[r]){const c={};!i&&r&1&&(i=!0,c.active=o[0].active,T(()=>i=!1)),t.$set(c),o[0].active?u?(u.p(o,r),r&1&&h(u,1)):(u=lt(o),u.c(),h(u,1),u.m(n.parentNode,n)):u&&(Q(),y(u,1,1,()=>{u=null}),ee())},i(o){s||(h(t.$$.fragment,o),h(u),s=!0)},o(o){y(t.$$.fragment,o),y(u),s=!1},d(o){o&&(g(l),g(n)),C(t,o),u&&u.d(o)}}}function yn(e,t,i){let l;U(e,F,d=>i(12,l=d));let n=l.modules.Transform;function s(d){e.$$.not_equal(n.active,d)&&(n.active=d,i(0,n))}function a(d){e.$$.not_equal(n.mirror,d)&&(n.mirror=d,i(0,n))}function f(d){e.$$.not_equal(n.colors,d)&&(n.colors=d,i(0,n))}function u(d){e.$$.not_equal(n.blur,d)&&(n.blur=d,i(0,n))}function o(d){e.$$.not_equal(n.noise,d)&&(n.noise=d,i(0,n))}function r(d){e.$$.not_equal(n.zoom,d)&&(n.zoom=d,i(0,n))}function c(d){e.$$.not_equal(n.pan,d)&&(n.pan=d,i(0,n))}function p(d){e.$$.not_equal(n.rotate,d)&&(n.rotate=d,i(0,n))}function m(d){e.$$.not_equal(n.size,d)&&(n.size=d,i(0,n))}function P(d){e.$$.not_equal(n.fps,d)&&(n.fps=d,i(0,n))}function w(d){e.$$.not_equal(n.split,d)&&(n.split=d,i(0,n))}return[n,s,a,f,u,o,r,c,p,m,P,w]}class Pn extends R{constructor(t){super(),J(this,t,yn,wn,B,{})}}function ot(e,t,i){const l=e.slice();return l[12]=t[i],l}function ut(e,t,i){const l=e.slice();return l[9]=t[i],l}function qn(e){let t,i,l=he(M),n=[];for(let s=0;s<l.length;s+=1)n[s]=rt(ot(e,l,s));return{c(){t=v("table"),i=v("tbody");for(let s=0;s<n.length;s+=1)n[s].c()},m(s,a){b(s,t,a),$(t,i);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(i,null)},p(s,a){if(a&3){l=he(M);let f;for(f=0;f<l.length;f+=1){const u=ot(s,l,f);n[f]?n[f].p(u,a):(n[f]=rt(u),n[f].c(),n[f].m(i,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},i:j,o:j,d(s){s&&g(t),pt(n,s)}}}function Nn(e){let t,i,l,n,s,a;function f(m,P){return m[0].name==="Default"?Cn:Sn}let u=f(e),o=u(e),r=he(e[2]),c=[];for(let m=0;m<r.length;m+=1)c[m]=ft(ut(e,r,m));const p=m=>y(c[m],1,1,()=>{c[m]=null});return{c(){t=v("table"),i=v("thead"),l=v("tr"),o.c(),n=N(),s=v("tbody");for(let m=0;m<c.length;m+=1)c[m].c();L(l,"class","active-edit")},m(m,P){b(m,t,P),$(t,i),$(i,l),o.m(l,null),$(t,n),$(t,s);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(s,null);a=!0},p(m,P){if(u===(u=f(m))&&o?o.p(m,P):(o.d(1),o=u(m),o&&(o.c(),o.m(l,null))),P&4){r=he(m[2]);let w;for(w=0;w<r.length;w+=1){const d=ut(m,r,w);c[w]?(c[w].p(d,P),h(c[w],1)):(c[w]=ft(d),c[w].c(),h(c[w],1),c[w].m(s,null))}for(Q(),w=r.length;w<c.length;w+=1)p(w);ee()}},i(m){if(!a){for(let P=0;P<r.length;P+=1)h(c[P]);a=!0}},o(m){c=c.filter(Boolean);for(let P=0;P<c.length;P+=1)y(c[P]);a=!1},d(m){m&&g(t),o.d(),pt(c,m)}}}function rt(e){let t,i,l,n,s,a,f,u;function o(){return e[7](e[12])}function r(){return e[8](e[12])}return{c(){t=v("tr"),i=v("td"),i.textContent=`${e[12].name}`,l=N(),n=v("td"),s=v("button"),s.textContent="Edit",a=N(),Qe(t,"active",e[12]===e[1])},m(c,p){b(c,t,p),$(t,i),$(t,l),$(t,n),$(n,s),$(t,a),f||(u=[I(s,"click",o),I(n,"click",Tn),I(t,"click",r)],f=!0)},p(c,p){e=c,p&2&&Qe(t,"active",e[12]===e[1])},d(c){c&&g(t),f=!1,V(u)}}}function Sn(e){let t,i,l,n,s,a,f,u,o;return{c(){t=v("td"),i=v("input"),l=N(),n=v("td"),s=v("button"),s.textContent="Del",a=N(),f=v("button"),f.textContent="Done",L(i,"type","text"),L(s,"class","mr-2")},m(r,c){b(r,t,c),$(t,i),ae(i,e[0].name),b(r,l,c),b(r,n,c),$(n,s),$(n,a),$(n,f),u||(o=[I(i,"input",e[4]),I(s,"click",e[5]),I(f,"click",e[6]),I(n,"click",An)],u=!0)},p(r,c){c&1&&i.value!==r[0].name&&ae(i,r[0].name)},d(r){r&&(g(t),g(l),g(n)),u=!1,V(o)}}}function Cn(e){let t,i=e[0].name+"",l,n,s,a,f,u;return{c(){t=v("td"),l=Z(i),n=N(),s=v("td"),a=v("button"),a.textContent="Done"},m(o,r){b(o,t,r),$(t,l),b(o,n,r),b(o,s,r),$(s,a),f||(u=[I(a,"click",e[3]),I(s,"click",zn)],f=!0)},p(o,r){r&1&&i!==(i=o[0].name+"")&&ce(l,i)},d(o){o&&(g(t),g(n),g(s)),f=!1,V(u)}}}function ft(e){let t,i,l;var n=e[9];function s(a,f){return{}}return n&&(t=be(n,s())),{c(){t&&O(t.$$.fragment),i=de()},m(a,f){t&&S(t,a,f),b(a,i,f),l=!0},p(a,f){if(n!==(n=a[9])){if(t){Q();const u=t;y(u.$$.fragment,1,0,()=>{C(u,1)}),ee()}n?(t=be(n,s()),O(t.$$.fragment),h(t.$$.fragment,1),S(t,i.parentNode,i)):t=null}},i(a){l||(t&&h(t.$$.fragment,a),l=!0)},o(a){t&&y(t.$$.fragment,a),l=!1},d(a){a&&g(i),t&&C(t,a)}}}function On(e){let t,i,l,n;const s=[Nn,qn],a=[];function f(u,o){return u[0]?0:1}return i=f(e),l=a[i]=s[i](e),{c(){t=v("div"),l.c()},m(u,o){b(u,t,o),a[i].m(t,null),n=!0},p(u,[o]){let r=i;i=f(u),i===r?a[i].p(u,o):(Q(),y(a[r],1,1,()=>{a[r]=null}),ee(),l=a[i],l?l.p(u,o):(l=a[i]=s[i](u),l.c()),h(l,1),l.m(t,null))},i(u){n||(h(l),n=!0)},o(u){y(l),n=!1},d(u){u&&g(t),a[i].d()}}}const zn=e=>e.stopPropagation(),An=e=>e.stopPropagation(),Tn=e=>e.stopPropagation();function En(e,t,i){let l,n;U(e,F,p=>i(0,l=p)),U(e,G,p=>i(1,n=p));const s=[fn,bn,kn,Pn],a=()=>ge(F,l=null,l);function f(){l.name=this.value,F.set(l)}return[l,n,s,a,f,()=>bt.delProfile(l),()=>ge(F,l=null,l),p=>ge(F,l=p,l),p=>{ge(G,n=p,n)}]}class st extends R{constructor(t){super(),J(this,t,En,On,B,{})}}function Ln(e){let t,i,l,n=e[0].name+"",s,a,f,u,o,r,c,p;var m=st;function P(w,d){return{}}return m&&(o=be(m,P())),{c(){t=v("main"),i=v("nav"),l=v("span"),s=Z(n),a=N(),f=v("button"),f.textContent="Add",u=N(),o&&O(o.$$.fragment)},m(w,d){b(w,t,d),$(t,i),$(i,l),$(l,s),$(i,a),$(i,f),$(t,u),o&&S(o,t,null),r=!0,c||(p=I(f,"click",e[1]),c=!0)},p(w,[d]){if((!r||d&1)&&n!==(n=w[0].name+"")&&ce(s,n),m!==(m=st)){if(o){Q();const X=o;y(X.$$.fragment,1,0,()=>{C(X,1)}),ee()}m?(o=be(m,P()),O(o.$$.fragment),h(o.$$.fragment,1),S(o,t,null)):o=null}},i(w){r||(o&&h(o.$$.fragment,w),r=!0)},o(w){o&&y(o.$$.fragment,w),r=!1},d(w){w&&g(t),o&&C(o),c=!1,p()}}}function Mn(e,t,i){let l;return U(e,G,s=>i(0,l=s)),[l,()=>bt.addProfile()]}class In extends R{constructor(t){super(),J(this,t,Mn,Ln,B,{})}}new In({target:document.getElementById("app")});
