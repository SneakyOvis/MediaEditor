var Nt=Object.defineProperty;var zt=(e,t,i)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var ye=(e,t,i)=>(zt(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerPolicy&&(f.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?f.credentials="include":n.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(n){if(n.ep)return;n.ep=!0;const f=i(n);fetch(n.href,f)}})();function D(){}function Ot(e,t){for(const i in t)e[i]=t[i];return e}function ut(e){return e()}function Ge(){return Object.create(null)}function V(e){e.forEach(ut)}function rt(e){return typeof e=="function"}function F(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Et(e){return Object.keys(e).length===0}function Mt(e,...t){if(e==null){for(const o of t)o(void 0);return D}const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function W(e,t,i){e.$$.on_destroy.push(Mt(t,i))}function St(e,t,i,o){if(e){const n=ft(e,t,i,o);return e[0](n)}}function ft(e,t,i,o){return e[1]&&o?Ot(i.ctx.slice(),e[1](o(t))):i.ctx}function Lt(e,t,i,o){if(e[2]&&o){const n=e[2](o(i));if(t.dirty===void 0)return n;if(typeof n=="object"){const f=[],c=Math.max(t.dirty.length,n.length);for(let r=0;r<c;r+=1)f[r]=t.dirty[r]|n[r];return f}return t.dirty|n}return t.dirty}function At(e,t,i,o,n,f){if(n){const c=ft(t,i,o,f);e.p(c,n)}}function Tt(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let o=0;o<i;o++)t[o]=-1;return t}return-1}function $(e,t){e.appendChild(t)}function b(e,t,i){e.insertBefore(t,i||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function ct(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function v(e){return document.createElement(e)}function K(e){return document.createTextNode(e)}function C(){return K(" ")}function me(){return K("")}function T(e,t,i,o){return e.addEventListener(t,i,o),()=>e.removeEventListener(t,i,o)}function at(e){return function(t){return t.preventDefault(),e.call(this,t)}}function A(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function jt(e){return Array.from(e.childNodes)}function fe(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}function ce(e,t,i,o){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,o?"important":"")}function Je(e,t,i){e.classList.toggle(t,!!i)}function ve(e,t){return new e(t)}let pe;function ae(e){pe=e}function _t(){if(!pe)throw new Error("Function called outside component initialization");return pe}function Dt(e){_t().$$.on_mount.push(e)}function he(e){_t().$$.on_destroy.push(e)}const se=[],E=[];let ue=[];const qe=[],Ft=Promise.resolve();let Ce=!1;function Bt(){Ce||(Ce=!0,Ft.then(pt))}function Ne(e){ue.push(e)}function S(e){qe.push(e)}const Pe=new Set;let oe=0;function pt(){if(oe!==0)return;const e=pe;do{try{for(;oe<se.length;){const t=se[oe];oe++,ae(t),It(t.$$)}}catch(t){throw se.length=0,oe=0,t}for(ae(null),se.length=0,oe=0;E.length;)E.pop()();for(let t=0;t<ue.length;t+=1){const i=ue[t];Pe.has(i)||(Pe.add(i),i())}ue.length=0}while(se.length);for(;qe.length;)qe.pop()();Ce=!1,Pe.clear(),ae(e)}function It(e){if(e.fragment!==null){e.update(),V(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ne)}}function Ht(e){const t=[],i=[];ue.forEach(o=>e.indexOf(o)===-1?t.push(o):i.push(o)),i.forEach(o=>o()),ue=t}const ge=new Set;let U;function J(){U={r:0,c:[],p:U}}function Q(){U.r||V(U.c),U=U.p}function h(e,t){e&&e.i&&(ge.delete(e),e.i(t))}function y(e,t,i,o){if(e&&e.o){if(ge.has(e))return;ge.add(e),U.c.push(()=>{ge.delete(e),o&&(i&&e.d(1),o())}),e.o(t)}else o&&o()}function be(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function L(e,t,i){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=i,i(e.$$.ctx[o]))}function O(e){e&&e.c()}function N(e,t,i){const{fragment:o,after_update:n}=e.$$;o&&o.m(t,i),Ne(()=>{const f=e.$$.on_mount.map(ut).filter(rt);e.$$.on_destroy?e.$$.on_destroy.push(...f):V(f),e.$$.on_mount=[]}),n.forEach(Ne)}function z(e,t){const i=e.$$;i.fragment!==null&&(Ht(i.after_update),V(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Rt(e,t){e.$$.dirty[0]===-1&&(se.push(e),Bt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(e,t,i,o,n,f,c,r=[-1]){const s=pe;ae(e);const l=e.$$={fragment:null,ctx:[],props:f,update:D,not_equal:n,bound:Ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Ge(),dirty:r,skip_bound:!1,root:t.target||s.$$.root};c&&c(l.root);let u=!1;if(l.ctx=i?i(e,t.props||{},(a,p,...d)=>{const P=d.length?d[0]:p;return l.ctx&&n(l.ctx[a],l.ctx[a]=P)&&(!l.skip_bound&&l.bound[a]&&l.bound[a](P),u&&Rt(e,a)),p}):[],l.update(),u=!0,V(l.before_update),l.fragment=o?o(l.ctx):!1,t.target){if(t.hydrate){const a=jt(t.target);l.fragment&&l.fragment.l(a),a.forEach(g)}else l.fragment&&l.fragment.c();t.intro&&h(e.$$.fragment),N(e,t.target,t.anchor),pt()}ae(s)}class H{constructor(){ye(this,"$$");ye(this,"$$set")}$destroy(){z(this,1),this.$destroy=D}$on(t,i){if(!rt(i))return D;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(i),()=>{const n=o.indexOf(i);n!==-1&&o.splice(n,1)}}$set(t){this.$$set&&!Et(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Vt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vt);const le=[];function mt(e,t=D){let i;const o=new Set;function n(r){if(F(e,r)&&(e=r,i)){const s=!le.length;for(const l of o)l[1](),le.push(l,e);if(s){for(let l=0;l<le.length;l+=2)le[l][0](le[l+1]);le.length=0}}}function f(r){n(r(e))}function c(r,s=D){const l=[r,s];return o.add(l),o.size===1&&(i=t(n,f)||D),r(e),()=>{o.delete(l),o.size===0&&i&&(i(),i=null)}}return{set:n,update:f,subscribe:c}}let Z=[{name:"Default",modules:{Meta:{active:!0,settings:{clear:!0,location:"",camera:"",time:""}},Transform:{active:!1,settings:{mirror:!1,colors:"",blur:"",noise:"",zoom:"",pan:"",rotate:"",size:"",fps:"",split:""}},Note:{active:!1,settings:{}},Format:{active:!0,settings:{video:"mp4",photo:"jpeg"}}}}];const ze=mt(Z[0]),G=mt(null);function Xt(){const e=structuredClone(Z[0]);e.name="",Z.push(e),_e(e)}function dt(e){ze.set(e)}function _e(e){G.set(e)}function Yt(e){Z=Z.filter(t=>t!==e),dt(Z[0]),_e(null)}function Zt(e){let t,i,o;return{c(){t=v("button"),t.textContent="Off",A(t,"class","text-red-600")},m(n,f){b(n,t,f),i||(o=T(t,"click",at(e[3])),i=!0)},p:D,d(n){n&&g(t),i=!1,o()}}}function Kt(e){let t,i,o;return{c(){t=v("button"),t.textContent="On",A(t,"class","text-green-600")},m(n,f){b(n,t,f),i||(o=T(t,"click",at(e[2])),i=!0)},p:D,d(n){n&&g(t),i=!1,o()}}}function Ut(e){let t,i,o,n,f;function c(l,u){return l[0]?Kt:Zt}let r=c(e),s=r(e);return{c(){t=v("tr"),i=v("td"),o=K(e[1]),n=C(),f=v("td"),s.c(),A(f,"class","text-right"),A(t,"class","module")},m(l,u){b(l,t,u),$(t,i),$(i,o),$(t,n),$(t,f),s.m(f,null)},p(l,[u]){u&2&&fe(o,l[1]),r===(r=c(l))&&s?s.p(l,u):(s.d(1),s=r(l),s&&(s.c(),s.m(f,null)))},i:D,o:D,d(l){l&&g(t),s.d()}}}function Wt(e,t,i){let{name:o}=t,{active:n}=t;const f=()=>i(0,n=!1),c=()=>i(0,n=!0);return e.$$set=r=>{"name"in r&&i(1,o=r.name),"active"in r&&i(0,n=r.active)},[n,o,f,c]}class $e extends H{constructor(t){super(),I(this,t,Wt,Ut,F,{name:1,active:0})}}function Qe(e){let t;return{c(){t=v("div"),ce(t,"top",e[3]+"px"),ce(t,"left",e[2]+"px"),A(t,"class","tooltip svelte-129dd45")},m(i,o){b(i,t,o),t.innerHTML=e[0]},p(i,o){o&1&&(t.innerHTML=i[0]),o&8&&ce(t,"top",i[3]+"px"),o&4&&ce(t,"left",i[2]+"px")},d(i){i&&g(t)}}}function Gt(e){let t,i,o,n,f,c;const r=e[8].default,s=St(r,e,e[7],null);let l=e[1]&&Qe(e);return{c(){t=v("div"),s&&s.c(),i=C(),l&&l.c(),o=me(),ce(t,"position","relative")},m(u,a){b(u,t,a),s&&s.m(t,null),b(u,i,a),l&&l.m(u,a),b(u,o,a),n=!0,f||(c=[T(t,"mouseover",e[4]),T(t,"mouseleave",e[6]),T(t,"mousemove",e[5])],f=!0)},p(u,[a]){s&&s.p&&(!n||a&128)&&At(s,r,u,u[7],n?Lt(r,u[7],a,null):Tt(u[7]),null),u[1]?l?l.p(u,a):(l=Qe(u),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},i(u){n||(h(s,u),n=!0)},o(u){y(s,u),n=!1},d(u){u&&(g(t),g(i),g(o)),s&&s.d(u),l&&l.d(u),f=!1,V(c)}}}function Jt(e,t,i){let{$$slots:o={},$$scope:n}=t,{title:f=""}=t,c=!1,r,s;function l(p){i(1,c=!0),i(2,r=p.pageX+5),i(3,s=p.pageY+5)}function u(p){i(2,r=p.pageX+5),i(3,s=p.pageY+5)}function a(){i(1,c=!1)}return e.$$set=p=>{"title"in p&&i(0,f=p.title),"$$scope"in p&&i(7,n=p.$$scope)},[f,c,r,s,l,u,a,n,o]}class Oe extends H{constructor(t){super(),I(this,t,Jt,Gt,F,{title:0})}}function Qt(e){let t,i;return{c(){t=v("span"),i=K(e[1])},m(o,n){b(o,t,n),$(t,i)},p(o,n){n&2&&fe(i,o[1])},d(o){o&&g(t)}}}function xt(e){let t,i,o,n,f,c,r,s,l;return n=new Oe({props:{title:e[2],$$slots:{default:[Qt]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),o=v("div"),O(n.$$.fragment),f=C(),c=v("input"),A(c,"type","text"),A(o,"class","flex justify-between"),A(i,"colspan","2"),A(t,"class","action")},m(u,a){b(u,t,a),$(t,i),$(i,o),N(n,o,null),$(o,f),$(o,c),re(c,e[0]),r=!0,s||(l=T(c,"input",e[3]),s=!0)},p(u,[a]){const p={};a&4&&(p.title=u[2]),a&18&&(p.$$scope={dirty:a,ctx:u}),n.$set(p),a&1&&c.value!==u[0]&&re(c,u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),z(n),s=!1,l()}}}function en(e,t,i){let{name:o}=t,{value:n}=t,{tip:f}=t;function c(){n=this.value,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,o=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,o,f,c]}class j extends H{constructor(t){super(),I(this,t,en,xt,F,{name:1,value:0,tip:2})}}function xe(e){let t,i,o,n,f,c;function r(a){e[2](a)}let s={name:"Photo",tip:"Output format for photos"};e[0].settings.photo!==void 0&&(s.value=e[0].settings.photo),t=new j({props:s}),E.push(()=>L(t,"value",r));function l(a){e[3](a)}let u={name:"Video",tip:"Output format for videos"};return e[0].settings.video!==void 0&&(u.value=e[0].settings.video),n=new j({props:u}),E.push(()=>L(n,"value",l)),{c(){O(t.$$.fragment),o=C(),O(n.$$.fragment)},m(a,p){N(t,a,p),b(a,o,p),N(n,a,p),c=!0},p(a,p){const d={};!i&&p&1&&(i=!0,d.value=a[0].settings.photo,S(()=>i=!1)),t.$set(d);const P={};!f&&p&1&&(f=!0,P.value=a[0].settings.video,S(()=>f=!1)),n.$set(P)},i(a){c||(h(t.$$.fragment,a),h(n.$$.fragment,a),c=!0)},o(a){y(t.$$.fragment,a),y(n.$$.fragment,a),c=!1},d(a){a&&g(o),z(t,a),z(n,a)}}}function tn(e){let t,i,o,n,f;function c(l){e[1](l)}let r={name:"Format"};e[0].active!==void 0&&(r.active=e[0].active),t=new $e({props:r}),E.push(()=>L(t,"active",c));let s=e[0].active&&xe(e);return{c(){O(t.$$.fragment),o=C(),s&&s.c(),n=me()},m(l,u){N(t,l,u),b(l,o,u),s&&s.m(l,u),b(l,n,u),f=!0},p(l,[u]){const a={};!i&&u&1&&(i=!0,a.active=l[0].active,S(()=>i=!1)),t.$set(a),l[0].active?s?(s.p(l,u),u&1&&h(s,1)):(s=xe(l),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(J(),y(s,1,1,()=>{s=null}),Q())},i(l){f||(h(t.$$.fragment,l),h(s),f=!0)},o(l){y(t.$$.fragment,l),y(s),f=!1},d(l){l&&(g(o),g(n)),z(t,l),s&&s.d(l)}}}function nn(e,t,i){let o;W(e,G,s=>i(4,o=s));let n=o.modules.Format;he(()=>{console.log(n)});function f(s){e.$$.not_equal(n.active,s)&&(n.active=s,i(0,n))}function c(s){e.$$.not_equal(n.settings.photo,s)&&(n.settings.photo=s,i(0,n))}function r(s){e.$$.not_equal(n.settings.video,s)&&(n.settings.video=s,i(0,n))}return[n,f,c,r]}class on extends H{constructor(t){super(),I(this,t,nn,tn,F,{})}}function ln(e){let t,i;return{c(){t=v("span"),i=K(e[1])},m(o,n){b(o,t,n),$(t,i)},p(o,n){n&2&&fe(i,o[1])},d(o){o&&g(t)}}}function sn(e){let t,i,o,n,f,c,r,s,l;return n=new Oe({props:{title:e[2],$$slots:{default:[ln]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),o=v("div"),O(n.$$.fragment),f=C(),c=v("input"),A(c,"type","checkbox"),A(o,"class","flex justify-between"),A(i,"colspan","2"),A(t,"class","action")},m(u,a){b(u,t,a),$(t,i),$(i,o),N(n,o,null),$(o,f),$(o,c),c.checked=e[0],r=!0,s||(l=T(c,"change",e[3]),s=!0)},p(u,[a]){const p={};a&4&&(p.title=u[2]),a&18&&(p.$$scope={dirty:a,ctx:u}),n.$set(p),a&1&&(c.checked=u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),z(n),s=!1,l()}}}function un(e,t,i){let{name:o}=t,{value:n}=t,{tip:f}=t;function c(){n=this.checked,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,o=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,o,f,c]}class gt extends H{constructor(t){super(),I(this,t,un,sn,F,{name:1,value:0,tip:2})}}function rn(e){let t,i;return{c(){t=v("span"),i=K(e[1])},m(o,n){b(o,t,n),$(t,i)},p(o,n){n&2&&fe(i,o[1])},d(o){o&&g(t)}}}function fn(e){let t,i,o,n,f,c,r,s,l;return n=new Oe({props:{title:e[2],$$slots:{default:[rn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),o=v("div"),O(n.$$.fragment),f=C(),c=v("input"),A(c,"type","datetime-local"),A(o,"class","flex justify-between"),A(i,"colspan","2"),A(t,"class","action")},m(u,a){b(u,t,a),$(t,i),$(i,o),N(n,o,null),$(o,f),$(o,c),re(c,e[0]),r=!0,s||(l=T(c,"input",e[3]),s=!0)},p(u,[a]){const p={};a&4&&(p.title=u[2]),a&18&&(p.$$scope={dirty:a,ctx:u}),n.$set(p),a&1&&re(c,u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),z(n),s=!1,l()}}}function cn(e,t,i){let{name:o}=t,{value:n}=t,{tip:f}=t;function c(){n=this.value,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,o=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,o,f,c]}class an extends H{constructor(t){super(),I(this,t,cn,fn,F,{name:1,value:0,tip:2})}}function et(e){let t,i,o,n,f,c,r,s,l,u,a,p;function d(k){e[2](k)}let P={name:"Clear",tip:"Clear all metadata"};e[0].settings.clear!==void 0&&(P.value=e[0].settings.clear),t=new gt({props:P}),E.push(()=>L(t,"value",d));function w(k){e[3](k)}let m={name:"Location",tip:"Set location: <b>latitude,longitude</b>"};e[0].settings.location!==void 0&&(m.value=e[0].settings.location),n=new j({props:m}),E.push(()=>L(n,"value",w));function X(k){e[4](k)}let x={name:"Camera",tip:"Set camera model"};e[0].settings.camera!==void 0&&(x.value=e[0].settings.camera),r=new j({props:x}),E.push(()=>L(r,"value",X));function R(k){e[5](k)}let ee={name:"Time",tip:"Set create/modify time"};return e[0].settings.time!==void 0&&(ee.value=e[0].settings.time),u=new an({props:ee}),E.push(()=>L(u,"value",R)),{c(){O(t.$$.fragment),o=C(),O(n.$$.fragment),c=C(),O(r.$$.fragment),l=C(),O(u.$$.fragment)},m(k,M){N(t,k,M),b(k,o,M),N(n,k,M),b(k,c,M),N(r,k,M),b(k,l,M),N(u,k,M),p=!0},p(k,M){const te={};!i&&M&1&&(i=!0,te.value=k[0].settings.clear,S(()=>i=!1)),t.$set(te);const ne={};!f&&M&1&&(f=!0,ne.value=k[0].settings.location,S(()=>f=!1)),n.$set(ne);const B={};!s&&M&1&&(s=!0,B.value=k[0].settings.camera,S(()=>s=!1)),r.$set(B);const ie={};!a&&M&1&&(a=!0,ie.value=k[0].settings.time,S(()=>a=!1)),u.$set(ie)},i(k){p||(h(t.$$.fragment,k),h(n.$$.fragment,k),h(r.$$.fragment,k),h(u.$$.fragment,k),p=!0)},o(k){y(t.$$.fragment,k),y(n.$$.fragment,k),y(r.$$.fragment,k),y(u.$$.fragment,k),p=!1},d(k){k&&(g(o),g(c),g(l)),z(t,k),z(n,k),z(r,k),z(u,k)}}}function _n(e){let t,i,o,n,f;function c(l){e[1](l)}let r={name:"Meta"};e[0].active!==void 0&&(r.active=e[0].active),t=new $e({props:r}),E.push(()=>L(t,"active",c));let s=e[0].active&&et(e);return{c(){O(t.$$.fragment),o=C(),s&&s.c(),n=me()},m(l,u){N(t,l,u),b(l,o,u),s&&s.m(l,u),b(l,n,u),f=!0},p(l,[u]){const a={};!i&&u&1&&(i=!0,a.active=l[0].active,S(()=>i=!1)),t.$set(a),l[0].active?s?(s.p(l,u),u&1&&h(s,1)):(s=et(l),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(J(),y(s,1,1,()=>{s=null}),Q())},i(l){f||(h(t.$$.fragment,l),h(s),f=!0)},o(l){y(t.$$.fragment,l),y(s),f=!1},d(l){l&&(g(o),g(n)),z(t,l),s&&s.d(l)}}}function pn(e,t,i){let o;W(e,G,u=>i(6,o=u));let n=o.modules.Meta;he(()=>{console.log(n)});function f(u){e.$$.not_equal(n.active,u)&&(n.active=u,i(0,n))}function c(u){e.$$.not_equal(n.settings.clear,u)&&(n.settings.clear=u,i(0,n))}function r(u){e.$$.not_equal(n.settings.location,u)&&(n.settings.location=u,i(0,n))}function s(u){e.$$.not_equal(n.settings.camera,u)&&(n.settings.camera=u,i(0,n))}function l(u){e.$$.not_equal(n.settings.time,u)&&(n.settings.time=u,i(0,n))}return[n,f,c,r,s,l]}class mn extends H{constructor(t){super(),I(this,t,pn,_n,F,{})}}function dn(e){let t,i,o;function n(c){e[1](c)}let f={name:"Note"};return e[0].active!==void 0&&(f.active=e[0].active),t=new $e({props:f}),E.push(()=>L(t,"active",n)),{c(){O(t.$$.fragment)},m(c,r){N(t,c,r),o=!0},p(c,[r]){const s={};!i&&r&1&&(i=!0,s.active=c[0].active,S(()=>i=!1)),t.$set(s)},i(c){o||(h(t.$$.fragment,c),o=!0)},o(c){y(t.$$.fragment,c),o=!1},d(c){z(t,c)}}}function gn(e,t,i){let o;W(e,G,c=>i(2,o=c));let n=o.modules.Note;he(()=>{console.log(n)});function f(c){e.$$.not_equal(n.active,c)&&(n.active=c,i(0,n))}return[n,f]}class vn extends H{constructor(t){super(),I(this,t,gn,dn,F,{})}}function tt(e){let t,i,o,n,f,c,r,s,l,u,a,p,d,P,w,m,X,x,R,ee,k,M,te,ne,B,ie,ke,Y,we,de;function vt(_){e[2](_)}let Ee={name:"Mirror",tip:"Mirror horizontally"};e[0].settings.mirror!==void 0&&(Ee.value=e[0].settings.mirror),t=new gt({props:Ee}),E.push(()=>L(t,"value",vt));function bt(_){e[3](_)}let Me={name:"Colors",tip:"Color shift [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.colors!==void 0&&(Me.value=e[0].settings.colors),n=new j({props:Me}),E.push(()=>L(n,"value",bt));function ht(_){e[4](_)}let Se={name:"Blur",tip:"Blur [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.blur!==void 0&&(Se.value=e[0].settings.blur),r=new j({props:Se}),E.push(()=>L(r,"value",ht));function $t(_){e[5](_)}let Le={name:"Noise",tip:"Noise [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.noise!==void 0&&(Le.value=e[0].settings.noise),u=new j({props:Le}),E.push(()=>L(u,"value",$t));function kt(_){e[6](_)}let Ae={name:"Zoom",tip:"Zoom [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.zoom!==void 0&&(Ae.value=e[0].settings.zoom),d=new j({props:Ae}),E.push(()=>L(d,"value",kt));function wt(_){e[7](_)}let Te={name:"Pan",tip:"Pan [0-width,0-height]: <b>x,y</b>"};e[0].settings.pan!==void 0&&(Te.value=e[0].settings.pan),m=new j({props:Te}),E.push(()=>L(m,"value",wt));function yt(_){e[8](_)}let je={name:"Rotate",tip:"Rotate [degree]: <b>value</b> or <b>min:max</b>"};e[0].settings.rotate!==void 0&&(je.value=e[0].settings.rotate),R=new j({props:je}),E.push(()=>L(R,"value",yt));function Pt(_){e[9](_)}let De={name:"Size",tip:"Size [width,height]: <b>w,h</b> or <b>min:max,min:max</b>"};e[0].settings.size!==void 0&&(De.value=e[0].settings.size),M=new j({props:De}),E.push(()=>L(M,"value",Pt));function qt(_){e[10](_)}let Fe={name:"Fps",tip:"Fps [value]: <b>value</b>"};e[0].settings.fps!==void 0&&(Fe.value=e[0].settings.fps),B=new j({props:Fe}),E.push(()=>L(B,"value",qt));function Ct(_){e[11](_)}let Be={name:"Split",tip:"Split [length]: <b>value<b> or <b>min:max</b>"};return e[0].settings.split!==void 0&&(Be.value=e[0].settings.split),Y=new j({props:Be}),E.push(()=>L(Y,"value",Ct)),{c(){O(t.$$.fragment),o=C(),O(n.$$.fragment),c=C(),O(r.$$.fragment),l=C(),O(u.$$.fragment),p=C(),O(d.$$.fragment),w=C(),O(m.$$.fragment),x=C(),O(R.$$.fragment),k=C(),O(M.$$.fragment),ne=C(),O(B.$$.fragment),ke=C(),O(Y.$$.fragment)},m(_,q){N(t,_,q),b(_,o,q),N(n,_,q),b(_,c,q),N(r,_,q),b(_,l,q),N(u,_,q),b(_,p,q),N(d,_,q),b(_,w,q),N(m,_,q),b(_,x,q),N(R,_,q),b(_,k,q),N(M,_,q),b(_,ne,q),N(B,_,q),b(_,ke,q),N(Y,_,q),de=!0},p(_,q){const Ie={};!i&&q&1&&(i=!0,Ie.value=_[0].settings.mirror,S(()=>i=!1)),t.$set(Ie);const He={};!f&&q&1&&(f=!0,He.value=_[0].settings.colors,S(()=>f=!1)),n.$set(He);const Re={};!s&&q&1&&(s=!0,Re.value=_[0].settings.blur,S(()=>s=!1)),r.$set(Re);const Ve={};!a&&q&1&&(a=!0,Ve.value=_[0].settings.noise,S(()=>a=!1)),u.$set(Ve);const Xe={};!P&&q&1&&(P=!0,Xe.value=_[0].settings.zoom,S(()=>P=!1)),d.$set(Xe);const Ye={};!X&&q&1&&(X=!0,Ye.value=_[0].settings.pan,S(()=>X=!1)),m.$set(Ye);const Ze={};!ee&&q&1&&(ee=!0,Ze.value=_[0].settings.rotate,S(()=>ee=!1)),R.$set(Ze);const Ke={};!te&&q&1&&(te=!0,Ke.value=_[0].settings.size,S(()=>te=!1)),M.$set(Ke);const Ue={};!ie&&q&1&&(ie=!0,Ue.value=_[0].settings.fps,S(()=>ie=!1)),B.$set(Ue);const We={};!we&&q&1&&(we=!0,We.value=_[0].settings.split,S(()=>we=!1)),Y.$set(We)},i(_){de||(h(t.$$.fragment,_),h(n.$$.fragment,_),h(r.$$.fragment,_),h(u.$$.fragment,_),h(d.$$.fragment,_),h(m.$$.fragment,_),h(R.$$.fragment,_),h(M.$$.fragment,_),h(B.$$.fragment,_),h(Y.$$.fragment,_),de=!0)},o(_){y(t.$$.fragment,_),y(n.$$.fragment,_),y(r.$$.fragment,_),y(u.$$.fragment,_),y(d.$$.fragment,_),y(m.$$.fragment,_),y(R.$$.fragment,_),y(M.$$.fragment,_),y(B.$$.fragment,_),y(Y.$$.fragment,_),de=!1},d(_){_&&(g(o),g(c),g(l),g(p),g(w),g(x),g(k),g(ne),g(ke)),z(t,_),z(n,_),z(r,_),z(u,_),z(d,_),z(m,_),z(R,_),z(M,_),z(B,_),z(Y,_)}}}function bn(e){let t,i,o,n,f;function c(l){e[1](l)}let r={name:"Transform"};e[0].active!==void 0&&(r.active=e[0].active),t=new $e({props:r}),E.push(()=>L(t,"active",c));let s=e[0].active&&tt(e);return{c(){O(t.$$.fragment),o=C(),s&&s.c(),n=me()},m(l,u){N(t,l,u),b(l,o,u),s&&s.m(l,u),b(l,n,u),f=!0},p(l,[u]){const a={};!i&&u&1&&(i=!0,a.active=l[0].active,S(()=>i=!1)),t.$set(a),l[0].active?s?(s.p(l,u),u&1&&h(s,1)):(s=tt(l),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(J(),y(s,1,1,()=>{s=null}),Q())},i(l){f||(h(t.$$.fragment,l),h(s),f=!0)},o(l){y(t.$$.fragment,l),y(s),f=!1},d(l){l&&(g(o),g(n)),z(t,l),s&&s.d(l)}}}function hn(e,t,i){let o;W(e,G,m=>i(12,o=m));let n=o.modules.Transform;he(()=>{console.log(n)});function f(m){e.$$.not_equal(n.active,m)&&(n.active=m,i(0,n))}function c(m){e.$$.not_equal(n.settings.mirror,m)&&(n.settings.mirror=m,i(0,n))}function r(m){e.$$.not_equal(n.settings.colors,m)&&(n.settings.colors=m,i(0,n))}function s(m){e.$$.not_equal(n.settings.blur,m)&&(n.settings.blur=m,i(0,n))}function l(m){e.$$.not_equal(n.settings.noise,m)&&(n.settings.noise=m,i(0,n))}function u(m){e.$$.not_equal(n.settings.zoom,m)&&(n.settings.zoom=m,i(0,n))}function a(m){e.$$.not_equal(n.settings.pan,m)&&(n.settings.pan=m,i(0,n))}function p(m){e.$$.not_equal(n.settings.rotate,m)&&(n.settings.rotate=m,i(0,n))}function d(m){e.$$.not_equal(n.settings.size,m)&&(n.settings.size=m,i(0,n))}function P(m){e.$$.not_equal(n.settings.fps,m)&&(n.settings.fps=m,i(0,n))}function w(m){e.$$.not_equal(n.settings.split,m)&&(n.settings.split=m,i(0,n))}return[n,f,c,r,s,l,u,a,p,d,P,w]}class $n extends H{constructor(t){super(),I(this,t,hn,bn,F,{})}}function nt(e,t,i){const o=e.slice();return o[12]=t[i],o}function it(e,t,i){const o=e.slice();return o[9]=t[i],o}function kn(e){let t,i,o=be(Z),n=[];for(let f=0;f<o.length;f+=1)n[f]=ot(nt(e,o,f));return{c(){t=v("table"),i=v("tbody");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,c){b(f,t,c),$(t,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,null)},p(f,c){if(c&2){o=be(Z);let r;for(r=0;r<o.length;r+=1){const s=nt(f,o,r);n[r]?n[r].p(s,c):(n[r]=ot(s),n[r].c(),n[r].m(i,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=o.length}},i:D,o:D,d(f){f&&g(t),ct(n,f)}}}function wn(e){let t,i,o,n,f,c;function r(d,P){return d[0].name==="Default"?Pn:yn}let s=r(e),l=s(e),u=be(e[2]),a=[];for(let d=0;d<u.length;d+=1)a[d]=lt(it(e,u,d));const p=d=>y(a[d],1,1,()=>{a[d]=null});return{c(){t=v("table"),i=v("thead"),o=v("tr"),l.c(),n=C(),f=v("tbody");for(let d=0;d<a.length;d+=1)a[d].c();A(o,"class","active-edit")},m(d,P){b(d,t,P),$(t,i),$(i,o),l.m(o,null),$(t,n),$(t,f);for(let w=0;w<a.length;w+=1)a[w]&&a[w].m(f,null);c=!0},p(d,P){if(s===(s=r(d))&&l?l.p(d,P):(l.d(1),l=s(d),l&&(l.c(),l.m(o,null))),P&4){u=be(d[2]);let w;for(w=0;w<u.length;w+=1){const m=it(d,u,w);a[w]?(a[w].p(m,P),h(a[w],1)):(a[w]=lt(m),a[w].c(),h(a[w],1),a[w].m(f,null))}for(J(),w=u.length;w<a.length;w+=1)p(w);Q()}},i(d){if(!c){for(let P=0;P<u.length;P+=1)h(a[P]);c=!0}},o(d){a=a.filter(Boolean);for(let P=0;P<a.length;P+=1)y(a[P]);c=!1},d(d){d&&g(t),l.d(),ct(a,d)}}}function ot(e){let t,i,o,n,f,c,r,s;function l(){return e[7](e[12])}function u(){return e[8](e[12])}return{c(){t=v("tr"),i=v("td"),i.textContent=`${e[12].name}`,o=C(),n=v("td"),f=v("button"),f.textContent="Edit",c=C(),Je(t,"active",e[12]===e[1])},m(a,p){b(a,t,p),$(t,i),$(t,o),$(t,n),$(n,f),$(t,c),r||(s=[T(f,"click",l),T(n,"click",zn),T(t,"click",u)],r=!0)},p(a,p){e=a,p&2&&Je(t,"active",e[12]===e[1])},d(a){a&&g(t),r=!1,V(s)}}}function yn(e){let t,i,o,n,f,c,r,s,l;return{c(){t=v("td"),i=v("input"),o=C(),n=v("td"),f=v("button"),f.textContent="Del",c=C(),r=v("button"),r.textContent="Done",A(i,"type","text"),A(f,"class","mr-2")},m(u,a){b(u,t,a),$(t,i),re(i,e[0].name),b(u,o,a),b(u,n,a),$(n,f),$(n,c),$(n,r),s||(l=[T(i,"input",e[4]),T(f,"click",e[5]),T(r,"click",e[6]),T(n,"click",Nn)],s=!0)},p(u,a){a&1&&i.value!==u[0].name&&re(i,u[0].name)},d(u){u&&(g(t),g(o),g(n)),s=!1,V(l)}}}function Pn(e){let t,i=e[0].name+"",o,n,f,c,r,s;return{c(){t=v("td"),o=K(i),n=C(),f=v("td"),c=v("button"),c.textContent="Done"},m(l,u){b(l,t,u),$(t,o),b(l,n,u),b(l,f,u),$(f,c),r||(s=[T(c,"click",e[3]),T(f,"click",Cn)],r=!0)},p(l,u){u&1&&i!==(i=l[0].name+"")&&fe(o,i)},d(l){l&&(g(t),g(n),g(f)),r=!1,V(s)}}}function lt(e){let t,i,o;var n=e[9];function f(c,r){return{}}return n&&(t=ve(n,f())),{c(){t&&O(t.$$.fragment),i=me()},m(c,r){t&&N(t,c,r),b(c,i,r),o=!0},p(c,r){if(n!==(n=c[9])){if(t){J();const s=t;y(s.$$.fragment,1,0,()=>{z(s,1)}),Q()}n?(t=ve(n,f()),O(t.$$.fragment),h(t.$$.fragment,1),N(t,i.parentNode,i)):t=null}},i(c){o||(t&&h(t.$$.fragment,c),o=!0)},o(c){t&&y(t.$$.fragment,c),o=!1},d(c){c&&g(i),t&&z(t,c)}}}function qn(e){let t,i,o,n;const f=[wn,kn],c=[];function r(s,l){return s[0]?0:1}return i=r(e),o=c[i]=f[i](e),{c(){t=v("div"),o.c()},m(s,l){b(s,t,l),c[i].m(t,null),n=!0},p(s,[l]){let u=i;i=r(s),i===u?c[i].p(s,l):(J(),y(c[u],1,1,()=>{c[u]=null}),Q(),o=c[i],o?o.p(s,l):(o=c[i]=f[i](s),o.c()),h(o,1),o.m(t,null))},i(s){n||(h(o),n=!0)},o(s){y(o),n=!1},d(s){s&&g(t),c[i].d()}}}const Cn=e=>e.stopPropagation(),Nn=e=>e.stopPropagation(),zn=e=>e.stopPropagation();function On(e,t,i){let o,n;W(e,G,p=>i(0,o=p)),W(e,ze,p=>i(1,n=p));const f=[on,mn,vn,$n],c=()=>_e(null);function r(){o.name=this.value,G.set(o)}return[o,n,f,c,r,()=>Yt(o),()=>_e(null),p=>_e(p),p=>dt(p)]}class st extends H{constructor(t){super(),I(this,t,On,qn,F,{})}}function En(e){let t,i,o,n=e[0].name+"",f,c,r,s,l,u,a,p;var d=st;function P(w,m){return{}}return d&&(l=ve(d,P())),{c(){t=v("main"),i=v("nav"),o=v("span"),f=K(n),c=C(),r=v("button"),r.textContent="Add",s=C(),l&&O(l.$$.fragment)},m(w,m){b(w,t,m),$(t,i),$(i,o),$(o,f),$(i,c),$(i,r),$(t,s),l&&N(l,t,null),u=!0,a||(p=T(r,"click",e[1]),a=!0)},p(w,[m]){if((!u||m&1)&&n!==(n=w[0].name+"")&&fe(f,n),d!==(d=st)){if(l){J();const X=l;y(X.$$.fragment,1,0,()=>{z(X,1)}),Q()}d?(l=ve(d,P()),O(l.$$.fragment),h(l.$$.fragment,1),N(l,t,null)):l=null}},i(w){u||(l&&h(l.$$.fragment,w),u=!0)},o(w){l&&y(l.$$.fragment,w),u=!1},d(w){w&&g(t),l&&z(l),a=!1,p()}}}function Mn(e,t,i){let o;return W(e,ze,f=>i(0,o=f)),Dt(()=>{console.log("telegram",Telegram.WebApp.sendData("test message"))}),[o,()=>Xt()]}class Sn extends H{constructor(t){super(),I(this,t,Mn,En,F,{})}}new Sn({target:document.getElementById("app")});
