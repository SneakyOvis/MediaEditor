var St=Object.defineProperty;var Ct=(e,t,i)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var qe=(e,t,i)=>(Ct(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const a of f.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerPolicy&&(f.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?f.credentials="include":n.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(n){if(n.ep)return;n.ep=!0;const f=i(n);fetch(n.href,f)}})();function D(){}function Ot(e,t){for(const i in t)e[i]=t[i];return e}function rt(e){return e()}function xe(){return Object.create(null)}function X(e){e.forEach(rt)}function ft(e){return typeof e=="function"}function B(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function zt(e){return Object.keys(e).length===0}function Et(e,...t){if(e==null){for(const o of t)o(void 0);return D}const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function W(e,t,i){e.$$.on_destroy.push(Et(t,i))}function Lt(e,t,i,o){if(e){const n=at(e,t,i,o);return e[0](n)}}function at(e,t,i,o){return e[1]&&o?Ot(i.ctx.slice(),e[1](o(t))):i.ctx}function Mt(e,t,i,o){if(e[2]&&o){const n=e[2](o(i));if(t.dirty===void 0)return n;if(typeof n=="object"){const f=[],a=Math.max(t.dirty.length,n.length);for(let r=0;r<a;r+=1)f[r]=t.dirty[r]|n[r];return f}return t.dirty|n}return t.dirty}function At(e,t,i,o,n,f){if(n){const a=at(t,i,o,f);e.p(a,n)}}function Tt(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let o=0;o<i;o++)t[o]=-1;return t}return-1}function ve(e,t,i){return e.set(i),t}function $(e,t){e.appendChild(t)}function b(e,t,i){e.insertBefore(t,i||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function ct(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function v(e){return document.createElement(e)}function K(e){return document.createTextNode(e)}function N(){return K(" ")}function me(){return K("")}function T(e,t,i,o){return e.addEventListener(t,i,o),()=>e.removeEventListener(t,i,o)}function _t(e){return function(t){return t.preventDefault(),e.call(this,t)}}function A(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function It(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function ae(e,t){e.value=t??""}function _e(e,t,i,o){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,o?"important":"")}function Ge(e,t,i){e.classList.toggle(t,!!i)}function he(e,t){return new e(t)}let de;function pe(e){de=e}function jt(){if(!de)throw new Error("Function called outside component initialization");return de}function Dt(e){jt().$$.on_destroy.push(e)}const ue=[],z=[];let fe=[];const Se=[],Ft=Promise.resolve();let Ce=!1;function Bt(){Ce||(Ce=!0,Ft.then(pt))}function Oe(e){fe.push(e)}function L(e){Se.push(e)}const Ne=new Set;let le=0;function pt(){if(le!==0)return;const e=de;do{try{for(;le<ue.length;){const t=ue[le];le++,pe(t),Ht(t.$$)}}catch(t){throw ue.length=0,le=0,t}for(pe(null),ue.length=0,le=0;z.length;)z.pop()();for(let t=0;t<fe.length;t+=1){const i=fe[t];Ne.has(i)||(Ne.add(i),i())}fe.length=0}while(ue.length);for(;Se.length;)Se.pop()();Ce=!1,Ne.clear(),pe(e)}function Ht(e){if(e.fragment!==null){e.update(),X(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Oe)}}function Jt(e){const t=[],i=[];fe.forEach(o=>e.indexOf(o)===-1?t.push(o):i.push(o)),i.forEach(o=>o()),fe=t}const be=new Set;let U;function G(){U={r:0,c:[],p:U}}function Q(){U.r||X(U.c),U=U.p}function h(e,t){e&&e.i&&(be.delete(e),e.i(t))}function y(e,t,i,o){if(e&&e.o){if(be.has(e))return;be.add(e),U.c.push(()=>{be.delete(e),o&&(i&&e.d(1),o())}),e.o(t)}else o&&o()}function $e(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function M(e,t,i){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=i,i(e.$$.ctx[o]))}function O(e){e&&e.c()}function S(e,t,i){const{fragment:o,after_update:n}=e.$$;o&&o.m(t,i),Oe(()=>{const f=e.$$.on_mount.map(rt).filter(ft);e.$$.on_destroy?e.$$.on_destroy.push(...f):X(f),e.$$.on_mount=[]}),n.forEach(Oe)}function C(e,t){const i=e.$$;i.fragment!==null&&(Jt(i.after_update),X(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Rt(e,t){e.$$.dirty[0]===-1&&(ue.push(e),Bt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,i,o,n,f,a,r=[-1]){const s=de;pe(e);const l=e.$$={fragment:null,ctx:[],props:f,update:D,not_equal:n,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:xe(),dirty:r,skip_bound:!1,root:t.target||s.$$.root};a&&a(l.root);let u=!1;if(l.ctx=i?i(e,t.props||{},(c,m,...p)=>{const P=p.length?p[0]:m;return l.ctx&&n(l.ctx[c],l.ctx[c]=P)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](P),u&&Rt(e,c)),m}):[],l.update(),u=!0,X(l.before_update),l.fragment=o?o(l.ctx):!1,t.target){if(t.hydrate){const c=It(t.target);l.fragment&&l.fragment.l(c),c.forEach(g)}else l.fragment&&l.fragment.c();t.intro&&h(e.$$.fragment),S(e,t.target,t.anchor),pt()}pe(s)}class R{constructor(){qe(this,"$$");qe(this,"$$set")}$destroy(){C(this,1),this.$destroy=D}$on(t,i){if(!ft(i))return D;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(i),()=>{const n=o.indexOf(i);n!==-1&&o.splice(n,1)}}$set(t){this.$$set&&!zt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Vt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vt);const se=[];function dt(e,t=D){let i;const o=new Set;function n(r){if(B(e,r)&&(e=r,i)){const s=!se.length;for(const l of o)l[1](),se.push(l,e);if(s){for(let l=0;l<se.length;l+=2)se[l][0](se[l+1]);se.length=0}}}function f(r){n(r(e))}function a(r,s=D){const l=[r,s];return o.add(l),o.size===1&&(i=t(n,f)||D),r(e),()=>{o.delete(l),o.size===0&&i&&(i(),i=null)}}return{set:n,update:f,subscribe:a}}const Xt={name:"Default",modules:{Meta:{active:!0,settings:{clear:!0,location:"",camera:"",time:""}},Transform:{active:!1,settings:{mirror:!1,colors:"",blur:"",noise:"",zoom:"",pan:"",rotate:"",size:"",fps:"",split:""}},Note:{active:!1,settings:{}},Format:{active:!0,settings:{video:"mp4",photo:"jpeg"}}}};let I=[];const x=dt(null),F=dt(null);let re;x.subscribe(e=>{if(e){for(let t=0;t<I.length;t++)I[t]===e&&(re=t);ke()}});F.subscribe(e=>{e&&ke()});function Yt(){const e=structuredClone(I[0]);e.name="",I.push(e),F.set(e),ke()}function Zt(e){I=I.filter(t=>t!==e),x.set(I[0]),F.set(null),ke()}function Kt(){I=JSON.parse(localStorage.getItem("profiles")),I||(I=[Xt],x.set(I[0])),re=parseInt(localStorage.getItem("active")),re||(re=0),x.set(I[re])}function ke(){localStorage.setItem("active",re.toString()),localStorage.setItem("profiles",JSON.stringify(I))}Kt();const mt={addProfile:Yt,delProfile:Zt};function Ut(e){let t,i,o;return{c(){t=v("button"),t.textContent="Off",A(t,"class","text-red-600")},m(n,f){b(n,t,f),i||(o=T(t,"click",_t(e[3])),i=!0)},p:D,d(n){n&&g(t),i=!1,o()}}}function Wt(e){let t,i,o;return{c(){t=v("button"),t.textContent="On",A(t,"class","text-green-600")},m(n,f){b(n,t,f),i||(o=T(t,"click",_t(e[2])),i=!0)},p:D,d(n){n&&g(t),i=!1,o()}}}function xt(e){let t,i,o,n,f;function a(l,u){return l[0]?Wt:Ut}let r=a(e),s=r(e);return{c(){t=v("tr"),i=v("td"),o=K(e[1]),n=N(),f=v("td"),s.c(),A(f,"class","text-right"),A(t,"class","module")},m(l,u){b(l,t,u),$(t,i),$(i,o),$(t,n),$(t,f),s.m(f,null)},p(l,[u]){u&2&&ce(o,l[1]),r===(r=a(l))&&s?s.p(l,u):(s.d(1),s=r(l),s&&(s.c(),s.m(f,null)))},i:D,o:D,d(l){l&&g(t),s.d()}}}function Gt(e,t,i){let{name:o}=t,{active:n}=t;const f=()=>i(0,n=!1),a=()=>i(0,n=!0);return e.$$set=r=>{"name"in r&&i(1,o=r.name),"active"in r&&i(0,n=r.active)},[n,o,f,a]}class we extends R{constructor(t){super(),J(this,t,Gt,xt,B,{name:1,active:0})}}function Qe(e){let t;return{c(){t=v("div"),_e(t,"top",e[3]+"px"),_e(t,"left",e[2]+"px"),A(t,"class","tooltip svelte-129dd45")},m(i,o){b(i,t,o),t.innerHTML=e[0]},p(i,o){o&1&&(t.innerHTML=i[0]),o&8&&_e(t,"top",i[3]+"px"),o&4&&_e(t,"left",i[2]+"px")},d(i){i&&g(t)}}}function Qt(e){let t,i,o,n,f,a;const r=e[8].default,s=Lt(r,e,e[7],null);let l=e[1]&&Qe(e);return{c(){t=v("div"),s&&s.c(),i=N(),l&&l.c(),o=me(),_e(t,"position","relative")},m(u,c){b(u,t,c),s&&s.m(t,null),b(u,i,c),l&&l.m(u,c),b(u,o,c),n=!0,f||(a=[T(t,"mouseover",e[4]),T(t,"mouseleave",e[6]),T(t,"mousemove",e[5])],f=!0)},p(u,[c]){s&&s.p&&(!n||c&128)&&At(s,r,u,u[7],n?Mt(r,u[7],c,null):Tt(u[7]),null),u[1]?l?l.p(u,c):(l=Qe(u),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},i(u){n||(h(s,u),n=!0)},o(u){y(s,u),n=!1},d(u){u&&(g(t),g(i),g(o)),s&&s.d(u),l&&l.d(u),f=!1,X(a)}}}function en(e,t,i){let{$$slots:o={},$$scope:n}=t,{title:f=""}=t,a=!1,r,s;function l(m){i(1,a=!0),i(2,r=m.pageX+5),i(3,s=m.pageY+5)}function u(m){i(2,r=m.pageX+5),i(3,s=m.pageY+5)}function c(){i(1,a=!1)}return e.$$set=m=>{"title"in m&&i(0,f=m.title),"$$scope"in m&&i(7,n=m.$$scope)},[f,a,r,s,l,u,c,n,o]}class ze extends R{constructor(t){super(),J(this,t,en,Qt,B,{title:0})}}function tn(e){let t,i;return{c(){t=v("span"),i=K(e[1])},m(o,n){b(o,t,n),$(t,i)},p(o,n){n&2&&ce(i,o[1])},d(o){o&&g(t)}}}function nn(e){let t,i,o,n,f,a,r,s,l;return n=new ze({props:{title:e[2],$$slots:{default:[tn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),o=v("div"),O(n.$$.fragment),f=N(),a=v("input"),A(a,"type","text"),A(o,"class","flex justify-between"),A(i,"colspan","2"),A(t,"class","action")},m(u,c){b(u,t,c),$(t,i),$(i,o),S(n,o,null),$(o,f),$(o,a),ae(a,e[0]),r=!0,s||(l=T(a,"input",e[3]),s=!0)},p(u,[c]){const m={};c&4&&(m.title=u[2]),c&18&&(m.$$scope={dirty:c,ctx:u}),n.$set(m),c&1&&a.value!==u[0]&&ae(a,u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),C(n),s=!1,l()}}}function on(e,t,i){let{name:o}=t,{value:n}=t,{tip:f}=t;function a(){n=this.value,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,o=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,o,f,a]}class j extends R{constructor(t){super(),J(this,t,on,nn,B,{name:1,value:0,tip:2})}}function et(e){let t,i,o,n,f,a;function r(c){e[2](c)}let s={name:"Photo",tip:"Output format for photos"};e[0].settings.photo!==void 0&&(s.value=e[0].settings.photo),t=new j({props:s}),z.push(()=>M(t,"value",r));function l(c){e[3](c)}let u={name:"Video",tip:"Output format for videos"};return e[0].settings.video!==void 0&&(u.value=e[0].settings.video),n=new j({props:u}),z.push(()=>M(n,"value",l)),{c(){O(t.$$.fragment),o=N(),O(n.$$.fragment)},m(c,m){S(t,c,m),b(c,o,m),S(n,c,m),a=!0},p(c,m){const p={};!i&&m&1&&(i=!0,p.value=c[0].settings.photo,L(()=>i=!1)),t.$set(p);const P={};!f&&m&1&&(f=!0,P.value=c[0].settings.video,L(()=>f=!1)),n.$set(P)},i(c){a||(h(t.$$.fragment,c),h(n.$$.fragment,c),a=!0)},o(c){y(t.$$.fragment,c),y(n.$$.fragment,c),a=!1},d(c){c&&g(o),C(t,c),C(n,c)}}}function ln(e){let t,i,o,n,f;function a(l){e[1](l)}let r={name:"Format"};e[0].active!==void 0&&(r.active=e[0].active),t=new we({props:r}),z.push(()=>M(t,"active",a));let s=e[0].active&&et(e);return{c(){O(t.$$.fragment),o=N(),s&&s.c(),n=me()},m(l,u){S(t,l,u),b(l,o,u),s&&s.m(l,u),b(l,n,u),f=!0},p(l,[u]){const c={};!i&&u&1&&(i=!0,c.active=l[0].active,L(()=>i=!1)),t.$set(c),l[0].active?s?(s.p(l,u),u&1&&h(s,1)):(s=et(l),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(G(),y(s,1,1,()=>{s=null}),Q())},i(l){f||(h(t.$$.fragment,l),h(s),f=!0)},o(l){y(t.$$.fragment,l),y(s),f=!1},d(l){l&&(g(o),g(n)),C(t,l),s&&s.d(l)}}}function sn(e,t,i){let o;W(e,F,s=>i(4,o=s));let n=o.modules.Format;function f(s){e.$$.not_equal(n.active,s)&&(n.active=s,i(0,n))}function a(s){e.$$.not_equal(n.settings.photo,s)&&(n.settings.photo=s,i(0,n))}function r(s){e.$$.not_equal(n.settings.video,s)&&(n.settings.video=s,i(0,n))}return[n,f,a,r]}class un extends R{constructor(t){super(),J(this,t,sn,ln,B,{})}}function rn(e){let t,i;return{c(){t=v("span"),i=K(e[1])},m(o,n){b(o,t,n),$(t,i)},p(o,n){n&2&&ce(i,o[1])},d(o){o&&g(t)}}}function fn(e){let t,i,o,n,f,a,r,s,l;return n=new ze({props:{title:e[2],$$slots:{default:[rn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),o=v("div"),O(n.$$.fragment),f=N(),a=v("input"),A(a,"type","checkbox"),A(o,"class","flex justify-between"),A(i,"colspan","2"),A(t,"class","action")},m(u,c){b(u,t,c),$(t,i),$(i,o),S(n,o,null),$(o,f),$(o,a),a.checked=e[0],r=!0,s||(l=T(a,"change",e[3]),s=!0)},p(u,[c]){const m={};c&4&&(m.title=u[2]),c&18&&(m.$$scope={dirty:c,ctx:u}),n.$set(m),c&1&&(a.checked=u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),C(n),s=!1,l()}}}function an(e,t,i){let{name:o}=t,{value:n}=t,{tip:f}=t;function a(){n=this.checked,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,o=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,o,f,a]}class gt extends R{constructor(t){super(),J(this,t,an,fn,B,{name:1,value:0,tip:2})}}function cn(e){let t,i;return{c(){t=v("span"),i=K(e[1])},m(o,n){b(o,t,n),$(t,i)},p(o,n){n&2&&ce(i,o[1])},d(o){o&&g(t)}}}function _n(e){let t,i,o,n,f,a,r,s,l;return n=new ze({props:{title:e[2],$$slots:{default:[cn]},$$scope:{ctx:e}}}),{c(){t=v("tr"),i=v("td"),o=v("div"),O(n.$$.fragment),f=N(),a=v("input"),A(a,"type","datetime-local"),A(o,"class","flex justify-between"),A(i,"colspan","2"),A(t,"class","action")},m(u,c){b(u,t,c),$(t,i),$(i,o),S(n,o,null),$(o,f),$(o,a),ae(a,e[0]),r=!0,s||(l=T(a,"input",e[3]),s=!0)},p(u,[c]){const m={};c&4&&(m.title=u[2]),c&18&&(m.$$scope={dirty:c,ctx:u}),n.$set(m),c&1&&ae(a,u[0])},i(u){r||(h(n.$$.fragment,u),r=!0)},o(u){y(n.$$.fragment,u),r=!1},d(u){u&&g(t),C(n),s=!1,l()}}}function pn(e,t,i){let{name:o}=t,{value:n}=t,{tip:f}=t;function a(){n=this.value,i(0,n)}return e.$$set=r=>{"name"in r&&i(1,o=r.name),"value"in r&&i(0,n=r.value),"tip"in r&&i(2,f=r.tip)},[n,o,f,a]}class dn extends R{constructor(t){super(),J(this,t,pn,_n,B,{name:1,value:0,tip:2})}}function tt(e){let t,i,o,n,f,a,r,s,l,u,c,m;function p(k){e[2](k)}let P={name:"Clear",tip:"Clear all metadata"};e[0].settings.clear!==void 0&&(P.value=e[0].settings.clear),t=new gt({props:P}),z.push(()=>M(t,"value",p));function w(k){e[3](k)}let d={name:"Location",tip:"Set location: <b>latitude,longitude</b>"};e[0].settings.location!==void 0&&(d.value=e[0].settings.location),n=new j({props:d}),z.push(()=>M(n,"value",w));function Y(k){e[4](k)}let ee={name:"Camera",tip:"Set camera model"};e[0].settings.camera!==void 0&&(ee.value=e[0].settings.camera),r=new j({props:ee}),z.push(()=>M(r,"value",Y));function V(k){e[5](k)}let te={name:"Time",tip:"Set create/modify time"};return e[0].settings.time!==void 0&&(te.value=e[0].settings.time),u=new dn({props:te}),z.push(()=>M(u,"value",V)),{c(){O(t.$$.fragment),o=N(),O(n.$$.fragment),a=N(),O(r.$$.fragment),l=N(),O(u.$$.fragment)},m(k,E){S(t,k,E),b(k,o,E),S(n,k,E),b(k,a,E),S(r,k,E),b(k,l,E),S(u,k,E),m=!0},p(k,E){const ne={};!i&&E&1&&(i=!0,ne.value=k[0].settings.clear,L(()=>i=!1)),t.$set(ne);const ie={};!f&&E&1&&(f=!0,ie.value=k[0].settings.location,L(()=>f=!1)),n.$set(ie);const H={};!s&&E&1&&(s=!0,H.value=k[0].settings.camera,L(()=>s=!1)),r.$set(H);const oe={};!c&&E&1&&(c=!0,oe.value=k[0].settings.time,L(()=>c=!1)),u.$set(oe)},i(k){m||(h(t.$$.fragment,k),h(n.$$.fragment,k),h(r.$$.fragment,k),h(u.$$.fragment,k),m=!0)},o(k){y(t.$$.fragment,k),y(n.$$.fragment,k),y(r.$$.fragment,k),y(u.$$.fragment,k),m=!1},d(k){k&&(g(o),g(a),g(l)),C(t,k),C(n,k),C(r,k),C(u,k)}}}function mn(e){let t,i,o,n,f;function a(l){e[1](l)}let r={name:"Meta"};e[0].active!==void 0&&(r.active=e[0].active),t=new we({props:r}),z.push(()=>M(t,"active",a));let s=e[0].active&&tt(e);return{c(){O(t.$$.fragment),o=N(),s&&s.c(),n=me()},m(l,u){S(t,l,u),b(l,o,u),s&&s.m(l,u),b(l,n,u),f=!0},p(l,[u]){const c={};!i&&u&1&&(i=!0,c.active=l[0].active,L(()=>i=!1)),t.$set(c),l[0].active?s?(s.p(l,u),u&1&&h(s,1)):(s=tt(l),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(G(),y(s,1,1,()=>{s=null}),Q())},i(l){f||(h(t.$$.fragment,l),h(s),f=!0)},o(l){y(t.$$.fragment,l),y(s),f=!1},d(l){l&&(g(o),g(n)),C(t,l),s&&s.d(l)}}}function gn(e,t,i){let o;W(e,F,u=>i(6,o=u));let n=o.modules.Meta;function f(u){e.$$.not_equal(n.active,u)&&(n.active=u,i(0,n))}function a(u){e.$$.not_equal(n.settings.clear,u)&&(n.settings.clear=u,i(0,n))}function r(u){e.$$.not_equal(n.settings.location,u)&&(n.settings.location=u,i(0,n))}function s(u){e.$$.not_equal(n.settings.camera,u)&&(n.settings.camera=u,i(0,n))}function l(u){e.$$.not_equal(n.settings.time,u)&&(n.settings.time=u,i(0,n))}return[n,f,a,r,s,l]}class vn extends R{constructor(t){super(),J(this,t,gn,mn,B,{})}}function bn(e){let t,i,o;function n(a){e[1](a)}let f={name:"Note"};return e[0].active!==void 0&&(f.active=e[0].active),t=new we({props:f}),z.push(()=>M(t,"active",n)),{c(){O(t.$$.fragment)},m(a,r){S(t,a,r),o=!0},p(a,[r]){const s={};!i&&r&1&&(i=!0,s.active=a[0].active,L(()=>i=!1)),t.$set(s)},i(a){o||(h(t.$$.fragment,a),o=!0)},o(a){y(t.$$.fragment,a),o=!1},d(a){C(t,a)}}}function hn(e,t,i){let o;W(e,F,a=>i(2,o=a));let n=o.modules.Note;function f(a){e.$$.not_equal(n.active,a)&&(n.active=a,i(0,n))}return[n,f]}class $n extends R{constructor(t){super(),J(this,t,hn,bn,B,{})}}function nt(e){let t,i,o,n,f,a,r,s,l,u,c,m,p,P,w,d,Y,ee,V,te,k,E,ne,ie,H,oe,ye,Z,Pe,ge;function vt(_){e[2](_)}let Ee={name:"Mirror",tip:"Mirror horizontally"};e[0].settings.mirror!==void 0&&(Ee.value=e[0].settings.mirror),t=new gt({props:Ee}),z.push(()=>M(t,"value",vt));function bt(_){e[3](_)}let Le={name:"Colors",tip:"Color shift [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.colors!==void 0&&(Le.value=e[0].settings.colors),n=new j({props:Le}),z.push(()=>M(n,"value",bt));function ht(_){e[4](_)}let Me={name:"Blur",tip:"Blur [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.blur!==void 0&&(Me.value=e[0].settings.blur),r=new j({props:Me}),z.push(()=>M(r,"value",ht));function $t(_){e[5](_)}let Ae={name:"Noise",tip:"Noise [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.noise!==void 0&&(Ae.value=e[0].settings.noise),u=new j({props:Ae}),z.push(()=>M(u,"value",$t));function kt(_){e[6](_)}let Te={name:"Zoom",tip:"Zoom [0-10]: <b>value</b> or <b>min:max</b>"};e[0].settings.zoom!==void 0&&(Te.value=e[0].settings.zoom),p=new j({props:Te}),z.push(()=>M(p,"value",kt));function wt(_){e[7](_)}let Ie={name:"Pan",tip:"Pan [0-width,0-height]: <b>x,y</b>"};e[0].settings.pan!==void 0&&(Ie.value=e[0].settings.pan),d=new j({props:Ie}),z.push(()=>M(d,"value",wt));function yt(_){e[8](_)}let je={name:"Rotate",tip:"Rotate [degree]: <b>value</b> or <b>min:max</b>"};e[0].settings.rotate!==void 0&&(je.value=e[0].settings.rotate),V=new j({props:je}),z.push(()=>M(V,"value",yt));function Pt(_){e[9](_)}let De={name:"Size",tip:"Size [width,height]: <b>w,h</b> or <b>min:max,min:max</b>"};e[0].settings.size!==void 0&&(De.value=e[0].settings.size),E=new j({props:De}),z.push(()=>M(E,"value",Pt));function qt(_){e[10](_)}let Fe={name:"Fps",tip:"Fps [value]: <b>value</b>"};e[0].settings.fps!==void 0&&(Fe.value=e[0].settings.fps),H=new j({props:Fe}),z.push(()=>M(H,"value",qt));function Nt(_){e[11](_)}let Be={name:"Split",tip:"Split [length]: <b>value<b> or <b>min:max</b>"};return e[0].settings.split!==void 0&&(Be.value=e[0].settings.split),Z=new j({props:Be}),z.push(()=>M(Z,"value",Nt)),{c(){O(t.$$.fragment),o=N(),O(n.$$.fragment),a=N(),O(r.$$.fragment),l=N(),O(u.$$.fragment),m=N(),O(p.$$.fragment),w=N(),O(d.$$.fragment),ee=N(),O(V.$$.fragment),k=N(),O(E.$$.fragment),ie=N(),O(H.$$.fragment),ye=N(),O(Z.$$.fragment)},m(_,q){S(t,_,q),b(_,o,q),S(n,_,q),b(_,a,q),S(r,_,q),b(_,l,q),S(u,_,q),b(_,m,q),S(p,_,q),b(_,w,q),S(d,_,q),b(_,ee,q),S(V,_,q),b(_,k,q),S(E,_,q),b(_,ie,q),S(H,_,q),b(_,ye,q),S(Z,_,q),ge=!0},p(_,q){const He={};!i&&q&1&&(i=!0,He.value=_[0].settings.mirror,L(()=>i=!1)),t.$set(He);const Je={};!f&&q&1&&(f=!0,Je.value=_[0].settings.colors,L(()=>f=!1)),n.$set(Je);const Re={};!s&&q&1&&(s=!0,Re.value=_[0].settings.blur,L(()=>s=!1)),r.$set(Re);const Ve={};!c&&q&1&&(c=!0,Ve.value=_[0].settings.noise,L(()=>c=!1)),u.$set(Ve);const Xe={};!P&&q&1&&(P=!0,Xe.value=_[0].settings.zoom,L(()=>P=!1)),p.$set(Xe);const Ye={};!Y&&q&1&&(Y=!0,Ye.value=_[0].settings.pan,L(()=>Y=!1)),d.$set(Ye);const Ze={};!te&&q&1&&(te=!0,Ze.value=_[0].settings.rotate,L(()=>te=!1)),V.$set(Ze);const Ke={};!ne&&q&1&&(ne=!0,Ke.value=_[0].settings.size,L(()=>ne=!1)),E.$set(Ke);const Ue={};!oe&&q&1&&(oe=!0,Ue.value=_[0].settings.fps,L(()=>oe=!1)),H.$set(Ue);const We={};!Pe&&q&1&&(Pe=!0,We.value=_[0].settings.split,L(()=>Pe=!1)),Z.$set(We)},i(_){ge||(h(t.$$.fragment,_),h(n.$$.fragment,_),h(r.$$.fragment,_),h(u.$$.fragment,_),h(p.$$.fragment,_),h(d.$$.fragment,_),h(V.$$.fragment,_),h(E.$$.fragment,_),h(H.$$.fragment,_),h(Z.$$.fragment,_),ge=!0)},o(_){y(t.$$.fragment,_),y(n.$$.fragment,_),y(r.$$.fragment,_),y(u.$$.fragment,_),y(p.$$.fragment,_),y(d.$$.fragment,_),y(V.$$.fragment,_),y(E.$$.fragment,_),y(H.$$.fragment,_),y(Z.$$.fragment,_),ge=!1},d(_){_&&(g(o),g(a),g(l),g(m),g(w),g(ee),g(k),g(ie),g(ye)),C(t,_),C(n,_),C(r,_),C(u,_),C(p,_),C(d,_),C(V,_),C(E,_),C(H,_),C(Z,_)}}}function kn(e){let t,i,o,n,f;function a(l){e[1](l)}let r={name:"Transform"};e[0].active!==void 0&&(r.active=e[0].active),t=new we({props:r}),z.push(()=>M(t,"active",a));let s=e[0].active&&nt(e);return{c(){O(t.$$.fragment),o=N(),s&&s.c(),n=me()},m(l,u){S(t,l,u),b(l,o,u),s&&s.m(l,u),b(l,n,u),f=!0},p(l,[u]){const c={};!i&&u&1&&(i=!0,c.active=l[0].active,L(()=>i=!1)),t.$set(c),l[0].active?s?(s.p(l,u),u&1&&h(s,1)):(s=nt(l),s.c(),h(s,1),s.m(n.parentNode,n)):s&&(G(),y(s,1,1,()=>{s=null}),Q())},i(l){f||(h(t.$$.fragment,l),h(s),f=!0)},o(l){y(t.$$.fragment,l),y(s),f=!1},d(l){l&&(g(o),g(n)),C(t,l),s&&s.d(l)}}}function wn(e,t,i){let o;W(e,F,d=>i(12,o=d));let n=o.modules.Transform;function f(d){e.$$.not_equal(n.active,d)&&(n.active=d,i(0,n))}function a(d){e.$$.not_equal(n.settings.mirror,d)&&(n.settings.mirror=d,i(0,n))}function r(d){e.$$.not_equal(n.settings.colors,d)&&(n.settings.colors=d,i(0,n))}function s(d){e.$$.not_equal(n.settings.blur,d)&&(n.settings.blur=d,i(0,n))}function l(d){e.$$.not_equal(n.settings.noise,d)&&(n.settings.noise=d,i(0,n))}function u(d){e.$$.not_equal(n.settings.zoom,d)&&(n.settings.zoom=d,i(0,n))}function c(d){e.$$.not_equal(n.settings.pan,d)&&(n.settings.pan=d,i(0,n))}function m(d){e.$$.not_equal(n.settings.rotate,d)&&(n.settings.rotate=d,i(0,n))}function p(d){e.$$.not_equal(n.settings.size,d)&&(n.settings.size=d,i(0,n))}function P(d){e.$$.not_equal(n.settings.fps,d)&&(n.settings.fps=d,i(0,n))}function w(d){e.$$.not_equal(n.settings.split,d)&&(n.settings.split=d,i(0,n))}return[n,f,a,r,s,l,u,c,m,p,P,w]}class yn extends R{constructor(t){super(),J(this,t,wn,kn,B,{})}}function it(e,t,i){const o=e.slice();return o[13]=t[i],o}function ot(e,t,i){const o=e.slice();return o[10]=t[i],o}function Pn(e){let t,i,o=$e(I),n=[];for(let f=0;f<o.length;f+=1)n[f]=lt(it(e,o,f));return{c(){t=v("table"),i=v("tbody");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,a){b(f,t,a),$(t,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,null)},p(f,a){if(a&11){o=$e(I);let r;for(r=0;r<o.length;r+=1){const s=it(f,o,r);n[r]?n[r].p(s,a):(n[r]=lt(s),n[r].c(),n[r].m(i,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=o.length}},i:D,o:D,d(f){f&&g(t),ct(n,f)}}}function qn(e){let t,i,o,n,f,a;function r(p,P){return p[0].name==="Default"?Sn:Nn}let s=r(e),l=s(e),u=$e(e[2]),c=[];for(let p=0;p<u.length;p+=1)c[p]=st(ot(e,u,p));const m=p=>y(c[p],1,1,()=>{c[p]=null});return{c(){t=v("table"),i=v("thead"),o=v("tr"),l.c(),n=N(),f=v("tbody");for(let p=0;p<c.length;p+=1)c[p].c();A(o,"class","active-edit")},m(p,P){b(p,t,P),$(t,i),$(i,o),l.m(o,null),$(t,n),$(t,f);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(f,null);a=!0},p(p,P){if(s===(s=r(p))&&l?l.p(p,P):(l.d(1),l=s(p),l&&(l.c(),l.m(o,null))),P&4){u=$e(p[2]);let w;for(w=0;w<u.length;w+=1){const d=ot(p,u,w);c[w]?(c[w].p(d,P),h(c[w],1)):(c[w]=st(d),c[w].c(),h(c[w],1),c[w].m(f,null))}for(G(),w=u.length;w<c.length;w+=1)m(w);Q()}},i(p){if(!a){for(let P=0;P<u.length;P+=1)h(c[P]);a=!0}},o(p){c=c.filter(Boolean);for(let P=0;P<c.length;P+=1)y(c[P]);a=!1},d(p){p&&g(t),l.d(),ct(c,p)}}}function lt(e){let t,i,o,n,f,a,r,s;function l(){return e[8](e[13])}function u(){return e[9](e[13])}return{c(){t=v("tr"),i=v("td"),i.textContent=`${e[13].name}`,o=N(),n=v("td"),f=v("button"),f.textContent="Edit",a=N(),Ge(t,"active",e[13]===e[1])},m(c,m){b(c,t,m),$(t,i),$(t,o),$(t,n),$(n,f),$(t,a),r||(s=[T(f,"click",l),T(n,"click",En),T(t,"click",u)],r=!0)},p(c,m){e=c,m&2&&Ge(t,"active",e[13]===e[1])},d(c){c&&g(t),r=!1,X(s)}}}function Nn(e){let t,i,o,n,f,a,r,s,l;return{c(){t=v("td"),i=v("input"),o=N(),n=v("td"),f=v("button"),f.textContent="Del",a=N(),r=v("button"),r.textContent="Done",A(i,"type","text"),A(f,"class","mr-2")},m(u,c){b(u,t,c),$(t,i),ae(i,e[0].name),b(u,o,c),b(u,n,c),$(n,f),$(n,a),$(n,r),s||(l=[T(i,"input",e[5]),T(f,"click",e[6]),T(r,"click",e[7]),T(n,"click",zn)],s=!0)},p(u,c){c&1&&i.value!==u[0].name&&ae(i,u[0].name)},d(u){u&&(g(t),g(o),g(n)),s=!1,X(l)}}}function Sn(e){let t,i=e[0].name+"",o,n,f,a,r,s;return{c(){t=v("td"),o=K(i),n=N(),f=v("td"),a=v("button"),a.textContent="Done"},m(l,u){b(l,t,u),$(t,o),b(l,n,u),b(l,f,u),$(f,a),r||(s=[T(a,"click",e[4]),T(f,"click",On)],r=!0)},p(l,u){u&1&&i!==(i=l[0].name+"")&&ce(o,i)},d(l){l&&(g(t),g(n),g(f)),r=!1,X(s)}}}function st(e){let t,i,o;var n=e[10];function f(a,r){return{}}return n&&(t=he(n,f())),{c(){t&&O(t.$$.fragment),i=me()},m(a,r){t&&S(t,a,r),b(a,i,r),o=!0},p(a,r){if(n!==(n=a[10])){if(t){G();const s=t;y(s.$$.fragment,1,0,()=>{C(s,1)}),Q()}n?(t=he(n,f()),O(t.$$.fragment),h(t.$$.fragment,1),S(t,i.parentNode,i)):t=null}},i(a){o||(t&&h(t.$$.fragment,a),o=!0)},o(a){t&&y(t.$$.fragment,a),o=!1},d(a){a&&g(i),t&&C(t,a)}}}function Cn(e){let t,i,o,n;const f=[qn,Pn],a=[];function r(s,l){return s[0]?0:1}return i=r(e),o=a[i]=f[i](e),{c(){t=v("div"),o.c()},m(s,l){b(s,t,l),a[i].m(t,null),n=!0},p(s,[l]){let u=i;i=r(s),i===u?a[i].p(s,l):(G(),y(a[u],1,1,()=>{a[u]=null}),Q(),o=a[i],o?o.p(s,l):(o=a[i]=f[i](s),o.c()),h(o,1),o.m(t,null))},i(s){n||(h(o),n=!0)},o(s){y(o),n=!1},d(s){s&&g(t),a[i].d()}}}const On=e=>e.stopPropagation(),zn=e=>e.stopPropagation(),En=e=>e.stopPropagation();function Ln(e,t,i){let o,n;W(e,F,p=>i(0,o=p)),W(e,x,p=>i(1,n=p));const f=[un,vn,$n,yn];function a(){}const r=()=>{ve(F,o=null,o)};function s(){o.name=this.value,F.set(o)}return[o,n,f,a,r,s,()=>mt.delProfile(o),()=>{ve(F,o=null,o)},p=>ve(F,o=p,o),p=>{ve(x,n=p,n)}]}class ut extends R{constructor(t){super(),J(this,t,Ln,Cn,B,{})}}function Mn(e){let t,i,o,n=e[0].name+"",f,a,r,s,l,u,c,m;var p=ut;function P(w,d){return{}}return p&&(l=he(p,P())),{c(){t=v("main"),i=v("nav"),o=v("span"),f=K(n),a=N(),r=v("button"),r.textContent="Add",s=N(),l&&O(l.$$.fragment)},m(w,d){b(w,t,d),$(t,i),$(i,o),$(o,f),$(i,a),$(i,r),$(t,s),l&&S(l,t,null),u=!0,c||(m=T(r,"click",e[1]),c=!0)},p(w,[d]){if((!u||d&1)&&n!==(n=w[0].name+"")&&ce(f,n),p!==(p=ut)){if(l){G();const Y=l;y(Y.$$.fragment,1,0,()=>{C(Y,1)}),Q()}p?(l=he(p,P()),O(l.$$.fragment),h(l.$$.fragment,1),S(l,t,null)):l=null}},i(w){u||(l&&h(l.$$.fragment,w),u=!0)},o(w){l&&y(l.$$.fragment,w),u=!1},d(w){w&&g(t),l&&C(l),c=!1,m()}}}function An(e,t,i){let o;return W(e,x,f=>i(0,o=f)),Dt(()=>{console.log("on destroy"),Telegram.WebApp.sendData(JSON.stringify(o))}),[o,()=>mt.addProfile()]}class Tn extends R{constructor(t){super(),J(this,t,An,Mn,B,{})}}new Tn({target:document.getElementById("app")});
